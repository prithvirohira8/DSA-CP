(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4415],{95362:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"discussTopic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"solutionArticle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"EnumValue",value:"DEFAULT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"solutionArticle"},directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prev"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:248}};i.loc.source={body:"#import './fragments/article.graphql'\n\nquery discussTopic($slug: String) {\n  solutionArticle(slug: $slug, orderBy: DEFAULT) {\n    ...solutionArticle\n    content\n    next {\n      slug\n      title\n    }\n\n    prev {\n      slug\n      title\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}i.definitions=i.definitions.concat(t(79757).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!o[n]&&(o[n]=!0,!0)})));var r={};function l(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.discussTopic=function(e,n){var t={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,o=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(n){var i=l(e,n);i&&t.definitions.push(i)})),t}(i,"discussTopic")},79757:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"solutionArticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SolutionArticleNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ipRegion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canEditReward"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slateValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chargeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"identifier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canEdit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canSee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactionsV2"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactionType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDiscussAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDiscussStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userAvatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reputation"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"voteStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOwnPost"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"byLeetcode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMyFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMostPopular"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favoriteCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditorsPick"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hitCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videosInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:845}};n.loc.source={body:"fragment solutionArticle on SolutionArticleNode {\n  ipRegion\n  rewardEnabled\n  canEditReward\n  uuid\n  title\n  content\n  slateValue\n  slug\n  sunk\n  chargeType\n  status\n  identifier\n  canEdit\n  canSee\n  reactionType\n  reactionsV2 {\n    count\n    reactionType\n  }\n  tags {\n    name\n    nameTranslated\n    slug\n    tagType\n  }\n  createdAt\n  thumbnail\n  author {\n    username\n    isDiscussAdmin\n    isDiscussStaff\n    profile {\n      userAvatar\n      userSlug\n      realName\n      reputation\n    }\n  }\n  summary\n  topic {\n    id\n    subscribed\n    commentCount\n    viewCount\n    post {\n      id\n      status\n      voteStatus\n      isOwnPost\n    }\n  }\n  byLeetcode\n  isMyFavorite\n  isMostPopular\n  favoriteCount\n  isEditorsPick\n  hitCount\n  videosInfo {\n    videoId\n    coverUrl\n    duration\n  }\n  question{\n    titleSlug\n    questionFrontendId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n,e.exports.solutionArticle=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,l=new Set;for(a.forEach((function(e){l.add(e)}));l.size>0;){var s=l;l=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return r.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(n,"solutionArticle")},11355:function(e,n,t){"use strict";t.d(n,{o:function(){return o}});var i=t(93513),o=function(e,n,t){return[function(o){if(t){var a=(0,i.Uy)(t,o);e.setQueryData(n,a)}},function(){e.setQueryData(n,t)}]}},50078:function(e,n,t){"use strict";t.d(n,{kF:function(){return f},p2:function(){return v}});var i,o=t(26042),a=t(69396),r=t(59403),l=(t(82010),t(32180)),s=t(88525),u=t(63808),d=t(6919),c=function(e){return(0,a.Z)((0,o.Z)({},(0,l.Z)(e,["orderBy","page","perPage","mySolution"])),{skip:0,first:e.perPage,orderBy:null!==(i=e.orderBy)&&void 0!==i?i:d.av.Hot})};var v=function(e,n){var t=c(e);return n.invalidateQueries([s.CSp.getKey(t)[0]])},f=function(e){var n=c(e);return(0,r.N)(s.CSp.getKey(n),(function(e){var t=e.pageParam,i=void 0===t?n:t;return u.f6.request(s.oEX,i).then((function(e){var n=e.questionSolutions||{},t=n.hasDirectResults,o=n.totalNum,a=n.solutions;if(!a||!(null===a||void 0===a?void 0:a.length)||!o)return{total:o||0,skip:i.skip,solutions:[],hasDirectResults:Boolean(t)};var r=a.map((function(e){var n,t,i,o,a,r,l,s,u,c,v,f,m,p,g,x,h,y,S,k,b,N,j,w,C,I,T,F,E,A,_,P,D=e.searchMeta;return{slug:"",uuid:"",ipRegion:"",id:null!==(p=null===e||void 0===e?void 0:e.id)&&void 0!==p?p:0,postId:null!==(g=null===e||void 0===e?void 0:e.post.id)&&void 0!==g?g:0,title:null!==(x=null===e||void 0===e?void 0:e.title)&&void 0!==x?x:"",isPinned:Boolean(null===e||void 0===e?void 0:e.pinned),isFavorite:Boolean(null===e||void 0===e?void 0:e.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,voteStatus:null!==(h=null===e||void 0===e?void 0:e.post.voteStatus)&&void 0!==h?h:void 0,voteCount:null!==(y=null===e||void 0===e?void 0:e.post.voteCount)&&void 0!==y?y:0,viewCount:null!==(S=null===e||void 0===e?void 0:e.viewCount)&&void 0!==S?S:0,commentCount:null!==(k=null===e||void 0===e?void 0:e.topLevelCommentCount)&&void 0!==k?k:0,creationDate:(null===e||void 0===e?void 0:e.post.creationDate)||+new Date,tags:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null!==(b=null===e||void 0===e?void 0:e.name)&&void 0!==b?b:""})):[],tagSlugs:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null!==(N=null===e||void 0===e?void 0:e.slug)&&void 0!==N?N:""})):[],author:{userAvatar:null!==(j=null===(n=null===e||void 0===e?void 0:e.post.author)||void 0===n?void 0:n.profile.userAvatar)&&void 0!==j?j:"",realName:null!==(w=null===(t=null===e||void 0===e?void 0:e.post.author)||void 0===t?void 0:t.profile.realName)&&void 0!==w?w:"",username:null!==(C=null===(i=null===e||void 0===e?void 0:e.post.author)||void 0===i?void 0:i.username)&&void 0!==C?C:"",isActive:Boolean(null===(o=null===e||void 0===e?void 0:e.post.author)||void 0===o?void 0:o.isActive),nameColor:null!==(I=null===(a=null===e||void 0===e?void 0:e.post.author)||void 0===a?void 0:a.nameColor)&&void 0!==I?I:"",activeBadgeIcon:null!==(T=null===(r=null===e||void 0===e?void 0:e.post.author)||void 0===r||null===(l=r.activeBadge)||void 0===l?void 0:l.icon)&&void 0!==T?T:"",activeBadgeName:null!==(F=null===(s=null===e||void 0===e?void 0:e.post.author)||void 0===s||null===(u=s.activeBadge)||void 0===u?void 0:u.displayName)&&void 0!==F?F:"",reputation:null!==(E=null===(c=null===e||void 0===e?void 0:e.post.author)||void 0===c||null===(v=c.profile)||void 0===v?void 0:v.reputation)&&void 0!==E?E:0},isHidden:Boolean(null===e||void 0===e?void 0:e.post.isHidden),isHiddenFromTrending:!1,isDeleted:Boolean((null===e||void 0===e?void 0:e.post.status)===d.$4.Deleted),status:null===e||void 0===e?void 0:e.post.status,searchMeta:D?{content:null!==(A=null===D||void 0===D?void 0:D.content)&&void 0!==A?A:"",contentType:String(null===D||void 0===D?void 0:D.contentType),commentAuthor:null!==(_=null===D||void 0===D||null===(f=D.commentAuthor)||void 0===f?void 0:f.username)&&void 0!==_?_:void 0,replyAuthor:null!==(P=null===(m=D.replyAuthor)||void 0===m?void 0:m.username)&&void 0!==P?P:void 0,highlights:(null===D||void 0===D?void 0:D.highlights)?null===D||void 0===D?void 0:D.highlights.map((function(e){return null===e||void 0===e?void 0:e.replace(/([^a-zA-Z0-9])/g,"\\$1")})):[]}:void 0}}));return{total:o,skip:i.skip,solutions:r,hasDirectResults:Boolean(t)}}))}),{enabled:Boolean(e.questionSlug),staleTime:1/0,getNextPageParam:function(e,t){return e.total>e.skip+n.first?(0,a.Z)((0,o.Z)({},n),{skip:t.length*n.first}):void 0}})}},94424:function(e,n,t){"use strict";t.d(n,{D:function(){return r}});var i=t(26042),o=t(69396),a=t(85893),r=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,o.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"})}))}))},50077:function(e,n,t){"use strict";t.d(n,{E:function(){return r}});var i=t(26042),o=t(69396),a=t(85893),r=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,o.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18.586 13H3a1 1 0 110-2h15.586L12 4.414A1 1 0 0113.414 3l8.293 8.293a.997.997 0 01-.003 1.417L13.414 21A1 1 0 0112 19.586L18.586 13z",clipRule:"evenodd"})}))}))},46414:function(e,n,t){"use strict";t.d(n,{t:function(){return r}});var i=t(26042),o=t(69396),a=t(85893),r=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,o.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M1.104 12.444a1 1 0 010-.888c.13-.26.37-.693.722-1.241A18.85 18.85 0 013.88 7.652C6.184 5.176 8.896 3.667 12 3.667s5.816 1.509 8.119 3.985c.79.85 1.475 1.756 2.055 2.663.352.548.593.98.722 1.24a1 1 0 010 .89c-.13.26-.37.692-.722 1.24a18.848 18.848 0 01-2.055 2.663c-2.303 2.476-5.015 3.985-8.119 3.985s-5.816-1.509-8.119-3.985a18.846 18.846 0 01-2.055-2.663c-.352-.548-.593-.98-.722-1.24zm2.406.162a16.87 16.87 0 001.836 2.38c1.959 2.106 4.19 3.347 6.654 3.347 2.465 0 4.695-1.24 6.654-3.347A16.87 16.87 0 0020.86 12a16.871 16.871 0 00-2.206-2.986C16.695 6.908 14.464 5.667 12 5.667c-2.465 0-4.695 1.24-6.654 3.347A16.87 16.87 0 003.14 12c.108.188.232.391.37.607zM12 15.75c-2.06 0-3.727-1.68-3.727-3.75 0-2.07 1.667-3.75 3.727-3.75 2.06 0 3.727 1.68 3.727 3.75 0 2.07-1.667 3.75-3.727 3.75zm0-2c.952 0 1.727-.782 1.727-1.75s-.775-1.75-1.727-1.75c-.952 0-1.727.782-1.727 1.75s.775 1.75 1.727 1.75z",clipRule:"evenodd"})}))}))},71767:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(26042),o=t(69396),a=t(85893),r=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,o.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM11.5 9.5H13a1 1 0 110 2h-1.5V13a1 1 0 11-2 0v-1.5H8a1 1 0 110-2h1.5V8a1 1 0 012 0v1.5zm-1 7a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}))}))},55803:function(e,n,t){"use strict";t.d(n,{t:function(){return u}});var i=t(47568),o=t(70655),a=t(85945),r=t(63808),l=t(88525),s=t(24744),u=function(e){var n=(0,a.NL)();return e?function(e,n){var t=(0,l.ylw)(r.f6,{onSuccess:function(){n.invalidateQueries(l.u3W.getKey({topicId:e}))}}).mutateAsync,a=function(){var e=(0,i.Z)((function(e){var n,i,a,r,l,u,d;return(0,o.__generator)(this,(function(o){return n=e.slug,i=e.title,a=e.content,r=e.tags,[2,t({topicId:Number(n),title:i,content:(0,s.e9)(a),tags:r}).then((function(e){var n,t,i,o;return Promise.resolve({ok:null!==(l=null===(n=e.updateSolution)||void 0===n?void 0:n.ok)&&void 0!==l&&l,error:null!==(u=null===(t=e.updateSolution)||void 0===t?void 0:t.error)&&void 0!==u?u:"",topicId:null!==(d=null===(i=e.updateSolution)||void 0===i||null===(o=i.topic)||void 0===o?void 0:o.id)&&void 0!==d?d:0,slug:""})}))]}))}));return function(n){return e.apply(this,arguments)}}();return a}(Number(e),n):function(){var e=(0,l.Ykg)(r.f6).mutateAsync,n=function(){var n=(0,i.Z)((function(n){var t,i,a,r,l,u,d;return(0,o.__generator)(this,(function(o){return t=n.questionSlug,i=n.title,a=n.content,r=n.tags,[2,e({questionSlug:t,title:i,content:(0,s.e9)(a),tags:r}).then((function(e){var n,t,i,o;return Promise.resolve({ok:null!==(l=null===(n=e.publishSolution)||void 0===n?void 0:n.ok)&&void 0!==l&&l,error:null!==(u=null===(t=e.publishSolution)||void 0===t?void 0:t.error)&&void 0!==u?u:"",topicId:null!==(d=null===(i=e.publishSolution)||void 0===i||null===(o=i.topic)||void 0===o?void 0:o.id)&&void 0!==d?d:0,slug:""})}))]}))}));return function(e){return n.apply(this,arguments)}}();return n}()}},80535:function(e,n,t){"use strict";t.d(n,{p:function(){return s}});var i=t(26042),o=t(85893),a=t(67294),r=t(93769),l=(0,a.createContext)(r.TH),s=function(e){var n=e.children,t=e.value,s=(0,r.z2)((function(e){return e.updateState})),u=(0,r.z2)();return(0,a.useEffect)((function(){s(t)}),[s,t]),(0,o.jsx)(l.Provider,{value:(0,i.Z)({},t,u),children:n})}},36866:function(e,n,t){"use strict";t.d(n,{B:function(){return l}});var i=t(26042),o=t(69396),a=t(63808),r=t(88525),l=function(e){return(0,r.TFB)(a.f6,{adLocation:e},{select:function(e){var n=e.advertisementByLocation[0];return n&&n.width&&n.height?(0,o.Z)((0,i.Z)({},n),{width:n.width,height:n.height}):null}})}},58544:function(e,n,t){"use strict";t.d(n,{E:function(){return a}});var i=t(67294),o=t(80441),a=function(e){var n=(0,o.Ik)();(0,i.useEffect)((function(){n&&(null===e||void 0===e||e._standaloneKeybindingService.addDynamicKeybinding("^",n.KeyMod.CtrlCmd|n.KeyCode.Enter,(function(){})),null===e||void 0===e||e._standaloneKeybindingService.addDynamicKeybinding("^",n.KeyMod.CtrlCmd|n.KeyCode.Quote,(function(){})))}),[e,n])}},92479:function(e,n,t){"use strict";t.d(n,{I:function(){return b}});var i=t(85893),o=t(68779),a=t(11321),r=t(67294),l=t(12922),s=t(69485),u=t(11516),d=t(29446),c=t(27375),v=t(49037),f=t(23877),m=t(93769),p=t(41435),g=t(83210),x=t(62758),h=t(134),y=t(40884),S=function(e){var n=e.open,t=e.onOpenChange,o=e.onConfirm,r=e.children,c=(0,a.$G)("solutions",{keyPrefix:"sideBySide"}).t,v=(0,m.z2)((function(e){return e.setOpenSettingModal})),f=(0,m.z2)((function(e){return e.setSettingModalActiveTab})),x=(0,m.z2)((function(e){return e.setSettingModalHighlightOption})),h=(0,s.z)((function(){null===o||void 0===o||o(),x(d.k.MultipleTab),f(d.Z.Advanced),v(!0)}));return(0,i.jsx)(p.J2,{open:n,onOpenChange:t,side:"bottom",align:"end",className:"max-w-[320px]",hideWhenDetached:!0,onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)("div",{className:(0,l.yI)("text-base font-medium",u.nx.labelTextPrimary),children:c("enterGuideTitle")}),(0,i.jsx)("div",{className:(0,l.yI)("mb-2 text-sm",u.nx.labelTextSecondary),children:c("enterGuideDesc")}),(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,i.jsx)(g.z,{variant:"ghost",className:"font-normal",onClick:h,children:c("goToSettings")}),(0,i.jsx)(g.z,{onClick:o,children:c("gotIt")})]})]}),children:r})},k=function(e){var n=e.open,t=e.onOpenChange,o=e.onConfirm,r=e.children,s=(0,a.$G)("solutions",{keyPrefix:"sideBySide"}).t;return(0,i.jsx)(p.J2,{open:n,onOpenChange:t,side:"bottom",align:"end",className:"max-w-[320px]",hideWhenDetached:!0,onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)("div",{className:(0,l.yI)("text-base font-medium",u.nx.labelTextPrimary),children:s("exitGuideTitle")}),(0,i.jsx)("div",{className:(0,l.yI)("mb-2 text-sm",u.nx.labelTextSecondary),children:s("exitGuideDesc")}),(0,i.jsx)("div",{className:"flex justify-end gap-2",children:(0,i.jsx)(g.z,{onClick:o,children:s("gotIt")})})]}),children:r})},b=function(){var e=(0,a.$G)("solutions",{keyPrefix:"sideBySide"}).t,n=(0,v.h)(),t=(0,f.WP)((function(e){return e.solutionSideBySideMode})),d=(0,f.WP)((function(e){return e.setSolutionSideBySideMode})),m=function(e){var n=e.solutionSideBySideMode,t=(0,r.useState)(!1),i=t[0],o=t[1],a=(0,r.useState)(!1),l=a[0],u=a[1],d=(0,y.G)((function(e){return e.solutionOpenedCount})),c=(0,y.G)((function(e){return e.showedFeatureEnter})),v=(0,y.G)((function(e){return e.showedFeatureExit})),f=(0,y.G)((function(e){return e.acknowledgedFeatureEnter})),m=(0,y.G)((function(e){return e.acknowledgedFeatureExit}));(0,r.useEffect)((function(){o(!n&&!c&&d>=3)}),[c,d,n]),(0,r.useEffect)((function(){u(n&&!v)}),[v,d,n]);var p=(0,s.z)((function(){o(!1),f()})),g=(0,s.z)((function(){u(!1),m()}));return{showedFeatureEnter:c,showedFeatureExit:v,openEnterGuide:i,openExitGuide:l,onEnterGuideConfirm:p,onExitGuideConfirm:g}}({solutionSideBySideMode:t}),p=m.showedFeatureEnter,b=m.showedFeatureExit,N=m.openEnterGuide,j=m.openExitGuide,w=m.onEnterGuideConfirm,C=m.onExitGuideConfirm,I=(0,r.useState)(!1),T=I[0],F=I[1],E=(0,s.z)((function(){var e,i;!t&&!p&&w(),t&&!b&&C(),d(!t),null===n||void 0===n||n.switchSolutionSideBySide(!t),(null===(i=null===(e=null===n||void 0===n?void 0:n.getTabNodeByComponent(c.r.Solutions))||void 0===e?void 0:e.getExtraData())||void 0===i?void 0:i.isRenderChildPage)||(null===n||void 0===n?void 0:n.getTabNodeByComponent(c.r.SolutionPost))||(F(!0),setTimeout((function(){F(!1)}),1e3))})),A=t?o.m6E:o.jNR,_=e(t?"exitMode":"enterMode"),P=e(t?"modeOn":"modeOff");return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(x.u,{label:P,open:T,placement:"top",children:(0,i.jsx)("div",{className:"relative h-6 w-6 cursor-pointer",onClick:E,children:(0,i.jsx)(x.u,{label:_,placement:"top",children:(0,i.jsx)(g.z,{variant:"ghost",size:"xs",onlyIcon:!0,shape:"square",className:(0,l.yI)("h-6 w-6",u.nx.labelTextSecondary,{"border-sd-blue-600 border":N||j}),children:(0,i.jsx)(h.e,{variant:"14px",padding:"square",icon:A})})})})}),(0,i.jsx)(S,{open:N,onConfirm:w,children:(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0"})}),(0,i.jsx)(k,{open:j,onConfirm:C,children:(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0"})})]})}},22807:function(e,n,t){"use strict";t.d(n,{P:function(){return v}});var i=t(14924),o=t(10253),a=t(85893),r=t(67294),l=t(12922),s=t(98819),u=t(15371),d=t(11516),c=function(e){var n=e.text,t=e.onClick,i=e.className;return(0,a.jsx)("div",{onClick:t,className:(0,l.yI)(u.Cj.label2,u.Cj.fill3,"whitespace-nowrap rounded-[20px] px-2 py-[1px] text-xs",i),children:n})},v=function(e){var n=e.tags,t=e.listClassName,v=e.tagClassName,f=e.highlightTags,m=e.tagSlugs,p=e.showisFavorite,g=(0,r.useState)(null),x=g[0],h=g[1],y=(0,o.Z)(function(e,n){var t=(0,r.useState)(!0),i=t[0],o=t[1],a=(0,r.useState)(Math.min(e.length,4)),l=a[0],s=a[1];return(0,r.useEffect)((function(){o(!0),s(Math.min(e.length,4))}),[e.length]),(0,r.useEffect)((function(){if(n&&i){if(!(n.scrollWidth>n.clientWidth)||l<=0)return o(!1);s((function(e){return e-1}))}}),[n,i,l]),(0,r.useMemo)((function(){return[e.slice(0,l),e.slice(l)]}),[e,l])}(n,x),2),S=y[0],k=y[1],b=k.reduce((function(e,n,t){return t?"".concat(n,", ").concat(e):n}),""),N=(0,l.yI)(d.nx.bgGray100,d.nx.labelTextReverse),j=S.map((function(e,n){return{name:e,slug:m?m[n]:""}}));return(0,a.jsxs)("div",{className:(0,l.yI)("flex flex-grow flex-nowrap items-center gap-2 overflow-hidden",t),ref:h,children:[p&&(0,a.jsx)(c,{text:"Favorite",className:(0,l.yI)(d.nx.labelYellow60,d.nx.bgOpacityYellow60)},"favorite"),j.map((function(e){return(0,a.jsx)(c,{text:e.name,className:(0,l.yI)(v,(0,i.Z)({},N,null===f||void 0===f?void 0:f.includes(e.slug)))},e.name)})),k.length>0&&(0,a.jsx)(s.J,{showArrow:!1,mobileEnable:!0,placement:"top",panelClassName:(0,l.yI)("max-w-[250px] min-w-0",u.Cj.bgLayer3),contentClassName:"p-0",content:(0,a.jsx)("div",{className:(0,l.yI)("whitespace-normal break-all px-2 py-1.5 text-xs",u.Cj.label2),children:b}),useHover:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(c,{text:"".concat(k.length,"+"),className:v})})})]})}},88858:function(e,n,t){"use strict";t.d(n,{mt:function(){return nt},_v:function(){return ot}});var i,o=t(26042),a=t(85893),r=t(67294),l=t(11321),s=t(12922),u=t(15371),d=t(11559),c=t(63244),v=t(54464),f=t(44341),m=t(47207),p=t(76346),g=t(69396),x=t(88525),h=t(63808),y=t(24744),S=t(6919),k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.u3W)(h.f6,{topicId:e.topicId},(0,g.Z)((0,o.Z)({},n),{select:function(e){var n,t,i,o,a,r,l,s,u,d,c,v,f,m,p,g,x,h,k,b,N,j,w,C,I,T,F,E=e.topic;return E?{slug:"",uuid:"",id:Number(E.id),content:(0,y.pC)(E.post.content),postId:E.post.id,title:E.title,isPinned:E.pinned,isFavorite:Boolean(E.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,ipRegion:"",voteCount:E.post.voteCount,viewCount:E.viewCount,commentCount:E.topLevelCommentCount,creationDate:null!==(f=E.post.creationDate)&&void 0!==f?f:+new Date,isSubscribed:null!==(m=E.subscribed)&&void 0!==m&&m,tags:E.solutionTags?E.solutionTags.map((function(e){return null!==(p=null===e||void 0===e?void 0:e.name)&&void 0!==p?p:""})):[],tagSlugs:E.solutionTags?E.solutionTags.map((function(e){return null!==(g=null===e||void 0===e?void 0:e.slug)&&void 0!==g?g:""})):[],author:{userAvatar:null!==(x=null===(n=E.post.author)||void 0===n?void 0:n.profile.userAvatar)&&void 0!==x?x:"",realName:null!==(h=null===(t=E.post.author)||void 0===t?void 0:t.profile.realName)&&void 0!==h?h:"",username:null!==(k=null===(i=E.post.author)||void 0===i?void 0:i.username)&&void 0!==k?k:"",isActive:null!==(b=null===(o=E.post.author)||void 0===o?void 0:o.isActive)&&void 0!==b&&b,nameColor:null!==(N=null===(a=E.post.author)||void 0===a?void 0:a.nameColor)&&void 0!==N?N:void 0,activeBadgeIcon:null!==(j=null===(r=E.post.author)||void 0===r||null===(l=r.activeBadge)||void 0===l?void 0:l.icon)&&void 0!==j?j:"",activeBadgeName:null!==(w=null===(s=E.post.author)||void 0===s||null===(u=s.activeBadge)||void 0===u?void 0:u.displayName)&&void 0!==w?w:"",isAdmin:null!==(C=null===(d=E.post.author)||void 0===d?void 0:d.isDiscussAdmin)&&void 0!==C&&C,reputation:null!==(I=null===(c=E.post.author)||void 0===c||null===(v=c.profile)||void 0===v?void 0:v.reputation)&&void 0!==I?I:0},isOwnPost:null!==(T=E.post.isOwnPost)&&void 0!==T&&T,isHidden:Boolean(E.post.isHidden),isHiddenFromTrending:Boolean(E.hideFromTrending),isDeleted:Boolean(E.post.status===S.$4.Deleted),status:E.post.status,voteStatus:Number(null!==(F=E.post.voteStatus)&&void 0!==F?F:0)}:null}}))},b=t(49037),N=t(93769),j=t(27375),w=t(17396),C=w.AG,I=t(23874),T=t(29297),F=t(23877),E=t(46398),A=t(27415),_=function(e){var n=e.itemsCount,t=Array(n).fill(null);return(0,a.jsxs)(E.O,{className:(0,s.yI)("flex w-full min-w-0 flex-col gap-4"),children:[(0,a.jsxs)("div",{className:"flex w-full justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(A.a,{className:"h-6 w-[64px]"}),(0,a.jsx)(A.a,{className:"h-6 w-[64px]"})]}),(0,a.jsx)(A.a,{className:"h-6 w-[64px]"})]}),(0,a.jsx)(A.a,{className:"h-[140px] w-full"}),t.map((function(e,n){return(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,a.jsxs)("div",{className:"flex w-full gap-3",children:[(0,a.jsx)(A.a,{className:"h-10 w-10 min-w-[40px] rounded-full"}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,a.jsx)(A.a,{className:"h-4 w-[20%]"}),(0,a.jsx)(A.a,{className:"h-4 w-[25%]"})]})]}),(0,a.jsx)(A.a,{className:"h-4 w-full"}),(0,a.jsx)(A.a,{className:"h-4 w-[40%]"})]},n)}))]})},P=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.O,{className:(0,s.yI)("relative mx-auto flex h-full w-full max-w-[960px] flex-1 flex-col overflow-y-auto"),children:(0,a.jsxs)("div",{className:"flex w-full flex-col gap-4 overflow-y-scroll p-4",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-4",children:[(0,a.jsx)(A.a,{className:"h-8 w-[60%]"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(A.a,{className:"h-8 w-8 rounded-full"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(A.a,{className:"h-3 w-[120px]"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.a,{className:"h-3 w-[80px]"}),(0,a.jsx)(A.a,{className:"h-3 w-[60px]"}),(0,a.jsx)(A.a,{className:"h-3 w-[100px]"})]})]})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:Array(8).fill(null).map((function(e,n){return(0,a.jsx)(A.a,{className:(0,s.yI)("h-4",n%2===0?"w-full":"w-[50%]")},n)}))}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(A.a,{className:"h-4 w-4"}),(0,a.jsx)(A.a,{className:"h-4 w-8"}),(0,a.jsx)(A.a,{className:"h-4 w-4"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(A.a,{className:"h-4 w-4"}),(0,a.jsx)(A.a,{className:"h-4 w-8"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(A.a,{className:"h-4 w-4"}),(0,a.jsx)(A.a,{className:"h-4 w-8"})]})]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)(A.a,{className:"h-[64px] w-full"}),(0,a.jsx)(A.a,{className:"h-[64px] w-full"})]}),(0,a.jsx)(_,{itemsCount:2})]})}),(0,a.jsxs)(E.O,{className:(0,s.yI)(u.xy.borderFill01,"z-nav flex h-9 w-full items-center gap-2 border-t p-1"),children:[(0,a.jsx)(A.a,{className:"h-[26px] w-[100px] rounded-lg"}),(0,a.jsxs)("div",{className:"flex h-4 gap-2",children:[(0,a.jsx)(A.a,{className:"h-4 w-4 rounded-full"}),(0,a.jsx)(A.a,{className:"h-4 w-9"})]}),(0,a.jsx)("div",{className:"bg-sd-border h-4 w-px"}),(0,a.jsx)(A.a,{className:"h-4 w-4 rounded-full"})]})]})},D=t(11163),O=t.n(D),q=t(57002),L=t(12573),B=t(32601),Z=t(83269),M=t(70341),V=t(50632),z=t(52841),G=t(84945),R=t(11516),U=t(85945),X=function(){return(0,x.jnm)(h.f6)},H=(t(82010),t(32180)),$=function(e){return(0,g.Z)((0,o.Z)({},(0,H.Z)(e,["orderBy","page","perPage","mySolution"])),{skip:(e.page-1)*e.perPage,first:e.perPage,orderBy:null!==(i=e.orderBy)&&void 0!==i?i:S.av.Hot})};var W=function(e,n){var t=$(e);return n.invalidateQueries([x.CSp.getKey(t)[0]])},K=t(50078),Q=t(81815),J=t(56435),Y=w.dE,ee=function(e){var n=e.topicId,t=e.updateModal,i=e.slug,s=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,d=X().mutateAsync,c=(0,J.c)((function(e){return e.questionSlug})),v=(0,N.z2)((function(e){return e.isDynamicLayout})),m=(0,Q.n)().filters,p=(0,U.NL)(),x=(0,D.useRouter)(),h=(0,M.yp)(c,new URLSearchParams(window.location.search).toString()),y=Y({abName:"enableSolutionsInfiniteList",enabled:!0}).data,S=(0,b.h)(),k=(0,r.useCallback)((function(){t({loading:!0}),d({topicId:n,slug:i}).then((function(e){var a;if("deleteTopic"in e&&(!(null===(a=e.deleteTopic)||void 0===a?void 0:a.ok)||e.deleteTopic.error))return G.y.error(s("error"),{itemClassName:u.Cj.bgLayer3});if(v){var r=(0,f.d)(i,n);null===S||void 0===S||S.closeSolutionPostTab(r)}else x.push(h,void 0,{shallow:!0});y?(0,K.p2)((0,g.Z)((0,o.Z)({},m),{questionSlug:c}),p):W((0,g.Z)((0,o.Z)({},m),{questionSlug:c}),p),G.y.success(s("deleteMessage"),{itemClassName:u.Cj.bgLayer3}),t({loading:!1,visible:!1})}))}),[t,d,n,i,y,s,v,S,x,h,m,c,p]),j=(0,r.useCallback)((function(){t({visible:!0,variant:"danger",confirmText:s("deleteConfirmText"),confirmBtn:s("deleteConfirmBtn"),onConfirm:k})}),[t,k,s]);return(0,a.jsx)(z.T,{onClick:j,children:s("delete")})},ne=t(80315),te=t(12351),ie=function(e){return Boolean(e.isOwnPost)||(0,ne.F9)(e.permissions,te.P.DiscussChangePost)},oe=function(e){return Boolean(e.isOwnPost)||(0,ne.F9)(e.permissions,te.P.DiscussDeletePost)},ae=t(47568),re=t(10253),le=t(70655),se=t(11355),ue=function(e,n){var t=x.u3W.getKey({topicId:n}),i=e.getQueryData(t);return(0,se.o)(e,t,i)},de=function(e){var n=(0,Q.l)(),t=J.c.getState().questionSlug,i=$((0,g.Z)((0,o.Z)({},n),{questionSlug:t})),a=x.CSp.getKey(i),r=e.getQueryData(a);return(0,se.o)(e,a,r)},ce=function(){var e=(0,U.NL)();return(0,x.cNx)(h.f6,{onMutate:function(){var n=(0,ae.Z)((function(n){var t,i,o,a,r,l,s,u;return(0,le.__generator)(this,(function(d){return t=n.topicId,i=n.pinned,o=(0,re.Z)(ue(e,t),2),a=o[0],r=o[1],l=(0,re.Z)(de(e),2),s=l[0],u=l[1],a((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.pinned=i,s((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===t&&(e.isPinned=i)}))})))})),[2,{cancelUpdateSolution:r,cancelUpdateSolutionList:u}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.togglePinTopic)||void 0===i?void 0:i.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}})},ve=function(e){var n=e.topicId,t=e.pinned,i=e.updateModal,o=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,s=(0,r.useState)(t),d=s[0],c=s[1],v=o(d?"unpin":"pin"),f=ce().mutateAsync,m=(0,r.useCallback)((function(){i({loading:!0}),c((function(e){return!e})),G.y.success(o(d?"unpinMessage":"pinMessage"),{itemClassName:u.Cj.bgLayer3}),f&&f({topicId:n,pinned:!d}).then((function(e){var n,t,a,r;(null===(n=e.togglePinTopic)||void 0===n?void 0:n.ok)&&!Boolean(null===(t=e.togglePinTopic)||void 0===t?void 0:t.error)||(G.y.error(o("error"),{itemClassName:u.Cj.bgLayer3}),c((function(e){return!e}))),c(Boolean(null===(a=e.togglePinTopic)||void 0===a||null===(r=a.topic)||void 0===r?void 0:r.pinned)),i({loading:!1,visible:!1})}))}),[i,c,f,n,d,o]),p=(0,r.useCallback)((function(){i({visible:!0,variant:"info",confirmText:o(d?"unpinConfirmText":"pinConfirmText"),confirmBtn:o(d?"unpinConfirmBtn":"pinConfirmBtn"),onConfirm:m})}),[i,m,d,o]);return(0,a.jsx)(z.T,{onClick:p,children:v})},fe=function(e){var n=(0,U.NL)();return(0,x.xim)(h.f6,{onMutate:function(){var t=(0,ae.Z)((function(t){var i,o,a,r,l,s,u;return(0,le.__generator)(this,(function(d){return i=t.hide,o=(0,re.Z)(ue(n,e),2),a=o[0],r=o[1],l=(0,re.Z)(de(n),2),s=l[0],u=l[1],a((function(n){if(null===n||void 0===n?void 0:n.topic){var t=i?S.$4.Hidden:S.$4.Open;n.topic.post.isHidden=i,n.topic.post.status=t,s((function(n){n&&n.pages.flatMap((function(e){return e.solutions})).forEach((function(n){(null===n||void 0===n?void 0:n.id)===e&&(n.isHidden=i,n.status=t)}))}))}})),[2,{cancelUpdateSolution:r,cancelUpdateSolutionList:u}]}))}));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.hidePost)||void 0===i?void 0:i.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}})},me=function(e){var n=e.topicId,t=e.postId,i=e.hidden,o=e.updateModal,s=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,d=(0,r.useState)(i),c=d[0],v=d[1],f=s(c?"show":"hide"),m=fe(n).mutateAsync,p=(0,r.useCallback)((function(){o({loading:!0}),v((function(e){return!e})),G.y.success(s(c?"showMessage":"hideMessage"),{itemClassName:u.Cj.bgLayer3}),m&&m({postId:t,hide:!c}).then((function(e){var n,t,i,a;(null===(n=e.hidePost)||void 0===n?void 0:n.ok)&&!Boolean(null===(t=e.hidePost)||void 0===t?void 0:t.error)||(G.y.error(s("error"),{itemClassName:u.Cj.bgLayer3}),v((function(e){return!e}))),v(Boolean(null===(i=e.hidePost)||void 0===i||null===(a=i.post)||void 0===a?void 0:a.isHidden)),o({loading:!1,visible:!1})}))}),[o,c,s,m,t]),g=(0,r.useCallback)((function(){o({visible:!0,variant:c?"info":"danger",confirmText:s(c?"showConfirmText":"hideConfirmText"),confirmBtn:s(c?"showConfirmBtn":"hideConfirmBtn"),onConfirm:p})}),[o,p,c,s]);return(0,a.jsx)(z.T,{onClick:g,children:f})},pe=function(){var e=(0,U.NL)();return(0,x.dnZ)(h.f6,{onMutate:function(){var n=(0,ae.Z)((function(n){var t,i,o,a;return(0,le.__generator)(this,(function(r){return t=n.topicId,i=(0,re.Z)(ue(e,t),2),o=i[0],a=i[1],o((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.post.status=S.$4.Open)})),[2,{cancelUpdateSolution:a}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.approveTopic)||void 0===i?void 0:i.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},ge=function(e){var n=e.topicId,t=e.updateModal,i=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,o=pe().mutateAsync,s=(0,r.useCallback)((function(){t({loading:!0}),G.y.success(i("restoreMessage"),{itemClassName:u.Cj.bgLayer3}),o&&o({topicId:n}).then((function(e){var n;if(!(null===(n=e.approveTopic)||void 0===n?void 0:n.ok))return G.y.error(i("error"),{itemClassName:u.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,o,n,i]),d=(0,r.useCallback)((function(){t({visible:!0,variant:"info",confirmText:i("restoreConfirmText"),confirmBtn:i("restoreConfirmBtn"),onConfirm:s})}),[t,s,i]);return(0,a.jsx)(z.T,{onClick:d,children:i("restore")})},xe=function(){var e=(0,U.NL)();return(0,x.ir7)(h.f6,{onMutate:function(){var n=(0,ae.Z)((function(n){var t,i,o,a,r;return(0,le.__generator)(this,(function(l){return t=n.topicId,i=n.hide,o=(0,re.Z)(ue(e,t),2),a=o[0],r=o[1],a((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.hideFromTrending=i)})),[2,{cancelUpdateSolution:r}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.hideTopicFromTrending)||void 0===i?void 0:i.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},he=function(e){var n=e.topicId,t=e.updateModal,i=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,o=xe().mutateAsync,s=(0,r.useCallback)((function(){t({loading:!0}),G.y.success(i("hideFromTrendingMessage"),{itemClassName:u.Cj.bgLayer3}),o&&o({topicId:n,hide:!0}).then((function(e){var n;if(!(null===(n=e.hideTopicFromTrending)||void 0===n?void 0:n.ok))return G.y.error(i("error"),{itemClassName:u.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,o,n,i]),d=(0,r.useCallback)((function(){t({visible:!0,variant:"danger",confirmText:i("hideFromTrendingConfirmText"),confirmBtn:i("hideFromTrendingConfirmBtn"),onConfirm:s})}),[t,s,i]);return(0,a.jsx)(z.T,{onClick:d,children:i("hideFromTrending")})},ye=function(){var e=(0,U.NL)();return(0,x.ejf)(h.f6,{onMutate:function(){var n=(0,ae.Z)((function(n){var t,i,o,a;return(0,le.__generator)(this,(function(r){return t=n.topicId,i=(0,re.Z)(ue(e,t),2),o=i[0],a=i[1],o((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.post.status=S.$4.Deleted)})),[2,{cancelUpdateSolution:a}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.migrateSolutionToDiscussion)||void 0===i?void 0:i.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},Se=function(e){var n=e.topicId,t=e.updateModal,i=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,o=ye().mutateAsync,s=(0,r.useCallback)((function(){t({loading:!0}),o&&o({topicId:n}).then((function(e){var n,o;if(!(null===e||void 0===e||null===(n=e.migrateSolutionToDiscussion)||void 0===n?void 0:n.ok))return G.y.error(i("error"),{itemClassName:u.Cj.bgLayer3});var a=J.c.getState().questionSlug,r=null===(o=e.migrateSolutionToDiscussion.comment)||void 0===o?void 0:o.id;a&&r&&window.open(M.Hb.discussionComment(a,r),"_blank"),G.y.success(i("moveToDiscussionMessage"),{itemClassName:u.Cj.bgLayer3}),t({loading:!1,visible:!1})}))}),[t,o,n,i]),d=(0,r.useCallback)((function(){t({visible:!0,variant:"info",confirmText:i("moveToDiscussionConfirmText"),confirmBtn:i("moveToDiscussionConfirmBtn"),onConfirm:s})}),[t,s,i]);return(0,a.jsx)(z.T,{onClick:d,children:i("moveToDiscussion")})},ke=function(e){var n=e.solution,t=e.postPerm,i=e.updateModal,o=n.id;return(0,a.jsxs)(a.Fragment,{children:[t.canPin&&(0,a.jsx)(ve,{topicId:o,pinned:n.isPinned,updateModal:i}),t.canHide&&(0,a.jsx)(me,{postId:n.postId,topicId:o,hidden:n.isHidden,updateModal:i}),t.canRestore&&n.isDeleted&&(0,a.jsx)(ge,{topicId:o,updateModal:i}),t.canHideFromTrending&&!n.isHiddenFromTrending&&(0,a.jsx)(he,{topicId:o,updateModal:i}),t.canMoveToDiscuss&&(0,a.jsx)(Se,{topicId:o,updateModal:i})]})},be=t(19898),Ne=function(e){var n,t=e.solution,i=e.placement,o=(0,l.$G)("solutions",{keyPrefix:"post.more"}).t,d=t.isOwnPost,c=t.isOfficial,v=t.id,f=t.slug,m=t.postId,p=null===(n=(0,V.U5)().data)||void 0===n?void 0:n.userStatus,g=[!!(null===p||void 0===p?void 0:p.isSignedIn),!!(null===p||void 0===p?void 0:p.isAdmin),null===p||void 0===p?void 0:p.permissions],x=g[0],h=function(e){var n=e.permissions,t=e.isOwnPost,i=e.isAdmin,o=e.isOfficial;return(0,r.useMemo)((function(){return{canEdit:ie({isOwnPost:t,isAdmin:i,isOfficial:o,permissions:n}),canReport:!t,canPin:(0,ne.F9)(n,te.P.DiscussPinTopic),canHide:(0,ne.F9)(n,te.P.DiscussHidePost),canHideFromTrending:i,canMoveToDiscuss:i,canDelete:oe({isOwnPost:t,isAdmin:i,isOfficial:o,permissions:n}),canRestore:(0,ne.F9)(n,te.P.DiscussDeletePost),canEditorsPick:i,canOfficialPick:i,canMute:i,canSunk:i,canRemove:i&&!t}}),[t,n,i,o])}({permissions:g[2],isOwnPost:d,isAdmin:g[1],isOfficial:c}),y=(0,q.r)().isPrimaryVerified,S=(0,L.U)(),k=S.visible,b=S.showModal,N=S.hideModal,j=(0,B.t)(),w=j.modal,C=j.update,I=function(e){return e("report")}(o);return x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(z.l,{placement:i,btnClassName:(0,s.yI)("w-7 h-7 p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary,R.rG.bgFillSecondary),iconClassName:(0,s.yI)(u.Cj.labelGrey6,u.M$.labelGrey7Group,"w-4 h-4","text-current dark:text-current hover:text-current dark:hover:text-current"),children:[h.canEdit&&(0,a.jsx)(z.T,{onClick:function(e){var n=J.c.getState().questionSlug;return T.d.qdEditPostClick({qd_version:(0,Z.in)(),qd_question_slug:n}),e.stopPropagation(),e.preventDefault(),x?y?void O().push(M.Hb.solutionEditor(n,v,f)):G.y.error(o("common:maybeVerifiedRequired"),{itemClassName:u.Cj.bgLayer3}):G.y.error(o("common:loginRequired"),{itemClassName:u.Cj.bgLayer3})},children:o("edit")}),h.canReport&&(0,a.jsx)(z.T,{onClick:b,children:I}),h.canDelete&&!t.isDeleted&&(0,a.jsx)(ee,{topicId:v,slug:f,updateModal:C}),(0,a.jsx)(ke,{solution:t,postPerm:h,updateModal:C})]}),t.isOfficial?(0,a.jsx)(be.a,{visible:k,onCancel:N,slug:f}):(0,a.jsx)(be.y,{postId:m,articleId:t.uuid,visible:k,onCancel:N}),w]}):null},je=t(73582),we=t(68779),Ce=function(e){var n=e.topicId,t=e.isFavorite,i=(0,U.NL)(),o=(0,x.XHC)(h.f6,{onMutate:function(){var e=(0,ae.Z)((function(e){var t,o,a,r,l,s,u;return(0,le.__generator)(this,(function(d){return t=e.isFavorite,o=(0,re.Z)(ue(i,n),2),a=o[0],r=o[1],l=(0,re.Z)(de(i),2),s=l[0],u=l[1],a((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.isFavorite=t,s((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===n&&(e.isFavorite=t)}))})))})),[2,{cancelUpdateSolution:r,cancelUpdateSolutionList:u}]}))}));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.toggleFavoriteSolution)||void 0===i?void 0:i.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}}),a=!t,l=o.isLoading,s=o.mutateAsync;return{isLoading:l,mutateAsync:(0,r.useCallback)((0,ae.Z)((function(){return(0,le.__generator)(this,(function(e){return[2,s({topicId:n,isFavorite:a}).then((function(e){var n,t,i;return{ok:null===(n=e.toggleFavoriteSolution)||void 0===n?void 0:n.ok,error:null===(t=e.toggleFavoriteSolution)||void 0===t?void 0:t.error,isFavorite:(null===(i=e.toggleFavoriteSolution)||void 0===i?void 0:i.ok)?a:!a}}))]}))})),[s,n,a])}},Ie=t(13042),Te=t(62758),Fe=t(134),Ee=function(e){var n=e.solution,t=(0,l.$G)("solutions",{keyPrefix:"post"}).t,i=n.slug,o=n.isFavorite,d=n.id,c=(0,r.useState)(o),v=c[0],f=c[1];(0,r.useEffect)((function(){return f(o)}),[o]);var m=Ce({slug:i,isFavorite:v,topicId:d}),p=m.mutateAsync,g=m.isLoading,x=(0,r.useCallback)((function(){p().then((function(e){var n=e.ok,i=e.error,o=e.isFavorite;if(!n||i)return G.y.error(i||t("genericError"),{itemClassName:u.Cj.bgLayer3});G.y.success(t(o?"addToFavoriteSuccess":"removeFromFavoriteSuccess"),{itemClassName:u.Cj.bgLayer3}),f(o),T.d.qdFavoritePostClick({qd_version:(0,Z.in)(),qd_question_slug:N.z2.getState().questionSlug,qd_favorite_pos:"bottom_bar"})}))}),[p,t]),h=t(v?"isInCollection":"addToCollection");return(0,a.jsx)(Te.u,{label:h,children:(0,a.jsx)(Ie.z,{icon:v?(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:je.Tab,className:R.nx.labelYellow60}):(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.Tab}),variant:"text",shape:"square",className:(0,s.yI)("p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary),onClick:g?void 0:x})})},Ae=t(27459),_e=t(69485),Pe=function(e){var n=e.solution,t=(0,l.$G)("solutions",{keyPrefix:"post"}).t,i=(0,_e.z)((function(){c.S6.getState().scrollToCommentListTop(nt+n.id),T.d.qdViewPostCommentClick({qd_version:(0,Z.in)(),qd_question_slug:N.z2.getState().questionSlug})}));return(0,a.jsx)(Te.u,{label:t("comments"),children:(0,a.jsx)(Ie.z,{variant:"text",label:void 0===n.commentCount?"":(0,Ae.ZP)(n.commentCount),icon:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.Mzg}),className:(0,s.yI)("px-2 py-1",R.nx.labelTextSecondary,R.rG.labelTextSecondary),onClick:i})})},De=function(e){var n=e.topicId,t=(0,U.NL)();return(0,x.sbl)(h.f6,{onMutate:function(){var e=(0,ae.Z)((function(e){var i,o,a,r,l,s,u;return(0,le.__generator)(this,(function(d){return i=e.voteStatus,o=(0,re.Z)(ue(t,n),2),a=o[0],r=o[1],l=(0,re.Z)(de(t),2),s=l[0],u=l[1],a((function(e){var t;if(null===e||void 0===e?void 0:e.topic){var o,a=null!==(o=null===e||void 0===e||null===(t=e.topic)||void 0===t?void 0:t.post.voteStatus)&&void 0!==o?o:0,r=e.topic.post.voteCount+(i-a);e.topic.post.voteCount=r,e.topic.post.voteStatus=i,s((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===n&&(e.voteCount=r,e.voteStatus=i)}))}))}})),[2,{cancelUpdateSolution:r,cancelUpdateSolutionList:u}]}))}));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(e,n,t){var i;(null===(i=e.votePost)||void 0===i?void 0:i.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())},onError:function(e,n,t){null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList()}})},Oe=function(e){var n=e.upvoted,t=e.topicId,i=e.postId,o=De({topicId:t}),a=o.mutateAsync,l=o.isLoading,s=(0,r.useCallback)((function(){return a({postId:i,voteStatus:n?S.i7.None:S.i7.Upvote}).then((function(e){var n,t;return{ok:null===(n=e.votePost)||void 0===n?void 0:n.ok,error:null===(t=e.votePost)||void 0===t?void 0:t.error}}))}),[i,n,a]);return{mutateAsync:s,isLoading:l}},qe=function(e){var n=e.downVoted,t=e.topicId,i=e.postId,o=De({topicId:t}),a=o.mutateAsync,l=o.isLoading,s=(0,r.useCallback)((function(){return a({postId:i,voteStatus:n?S.i7.None:S.i7.Downvote}).then((function(e){var n,t;return{ok:null===(n=e.votePost)||void 0===n?void 0:n.ok,error:null===(t=e.votePost)||void 0===t?void 0:t.error}}))}),[i,n,a]);return{mutateAsync:s,isLoading:l}},Le=function(e){var n=(0,l.$G)("solutions",{keyPrefix:"post"}).t,t=(0,r.useState)(e.voteStatus),i=t[0],o=t[1];(0,r.useEffect)((function(){return o(e.voteStatus)}),[e.voteStatus]);var a=i===S.i7.Upvote,s=i===S.i7.Downvote,u=(0,q.r)(),d=u.isSignedIn,c=u.isVerified;return{upvoted:a,downvoted:s,checkIfVerified:(0,r.useCallback)((function(){return!(!d||!c)||(d?c?void 0:(G.y.error(n("verifyVoteError")),!1):(G.y.error(n("signInVoteError")),!1))}),[d,c,n])}},Be=(Fe.e,we.BwA,Fe.e,je.BwA,R.nx.labelGreen60,Fe.e,we.BwA,Fe.e,je.BwA,{upvote:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.CLC}),upvoted:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:je.CLC,className:R.nx.labelGreen60}),downvote:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.rsI}),downvoted:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:je.rsI})}),Ze=function(e){var n=e.solution,t=(0,l.$G)("solutions",{keyPrefix:"post"}).t,i=n.voteCount,o=n.postId,d=n.id,c=n.uuid,v=n.slug,f=Le(n),m=f.upvoted,p=f.downvoted,g=f.checkIfVerified,x=Oe({upvoted:m,topicId:d,articleId:c,postId:o,slug:v}),h=x.isLoading,y=x.mutateAsync,S=qe({downVoted:p,topicId:d,articleId:c,postId:o,slug:v}),k=S.isLoading,b=S.mutateAsync,j=(0,r.useCallback)((function(){g()&&y().then((function(e){var n=e.ok,i=e.error;n?T.d.qdUpVotePostClick({qd_version:(0,Z.in)(),qd_question_slug:N.z2.getState().questionSlug,qd_up_vote_pos:"bottom_bar"}):G.y.error(null!==i&&void 0!==i?i:t("genericError"),{itemClassName:u.Cj.bgLayer3})}))}),[g,y,t]),w=(0,r.useCallback)((function(){g()&&b().then((function(e){var n=e.ok,i=e.error;!n&&G.y.error(null!==i&&void 0!==i?i:t("genericError"),{itemClassName:u.Cj.bgLayer3}),n&&T.d.qdDownVotePostClick({qd_version:(0,Z.in)(),qd_question_slug:N.z2.getState().questionSlug})}))}),[b,t,g]);return(0,a.jsxs)("div",{className:(0,s.yI)("flex overflow-hidden rounded-lg",R.nx.bgFillSecondary),children:[(0,a.jsx)(Ie.z,{variant:"text",icon:m?Be.upvoted:Be.upvote,label:(0,Ae.ZP)(i),onClick:h?void 0:j,className:(0,s.yI)("rounded-none px-2 py-1",R.nx.labelTextSecondary,R.rG.labelTextSecondary)}),(0,a.jsx)("div",{className:(0,s.yI)("h-7 w-px",u.xy.bgLayer01)}),(0,a.jsx)(Ie.z,{variant:"text",icon:p?Be.downvoted:Be.downvote,onClick:k?void 0:w,className:(0,s.yI)("rounded-none p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary)})]})},Me=t(82723),Ve=Me.E,ze=function(e){var n=e.solution,t=e.className;return(0,a.jsxs)("div",{className:(0,s.yI)(u.xy.bgLayer01,u.xy.borderFill01,"flex h-9 w-full items-center gap-2 border-t p-1 px-4",t),children:[(0,a.jsxs)("div",{className:(0,s.yI)("flex items-center gap-1"),children:[(0,a.jsx)(Ze,{solution:n}),(0,a.jsx)(Pe,{solution:n})]}),(0,a.jsx)("div",{className:"bg-sd-border h-4 w-px"}),(0,a.jsxs)("div",{className:(0,s.yI)("flex items-center gap-1"),children:[(0,a.jsx)(Ee,{solution:n}),(0,a.jsx)(Ne,{solution:n,placement:"top"}),(0,a.jsx)(Ve,{solution:n,placement:"top"})]})]})},Ge=t(20640),Re=t.n(Ge),Ue=t(82756),Xe=t(68708),He=t(75117),$e=t(15214),We=t(42054),Ke=t(26126),Qe=t(87740),Je=t(11095),Ye=t(71767),en=r.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,g.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM10.5 16.5a6 6 0 100-12 6 6 0 000 12zm-2.5-5a1 1 0 110-2h5a1 1 0 110 2H8z",clipRule:"evenodd"})}))})),nn=t(385),tn=function(e){var n=e.children,t=(0,re.Z)((0,Qe.O)(!1),2),i=t[0],o=t[1],l=o.on,s=o.off,u=(0,r.useState)(""),d=u[0],c=(u[1],(0,r.useCallback)((function(e){}),[l]));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:c,children:n}),(0,a.jsxs)(Je.u,{visible:i,onCancel:s,className:"children:!overflow-visible my-0 h-[100vh] w-full rounded-none bg-transparent p-0",noShadow:!0,stopMouseDownPropagation:We.Z,closable:!1,children:[(0,a.jsx)(Ke.d$,{minScale:.5,maxScale:5,pinch:{step:2e3},wheel:{step:.1},children:function(e){var n=e.zoomIn,t=e.zoomOut;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("figure",{className:"children:cursor-grab flex h-full w-full items-center justify-center",children:(0,a.jsx)(Ke.Uv,{children:(0,a.jsx)("img",{src:d,alt:"",className:"max-h-[560px] w-auto max-w-[1080px] cursor-grab transition-transform duration-300"})})}),(0,a.jsxs)("div",{className:"bg-gray-7 dark:bg-dark-gray-7 fixed bottom-4 left-[50%] flex rounded-md p-2",children:[(0,a.jsx)(Ye.W,{className:"text-paper dark:text-dark-paper h-6 w-6 cursor-pointer",onClick:function(){return n()}}),(0,a.jsx)("div",{className:"border-dark-divider-1 dark:border-divider-1 mx-2 h-6 border-r"}),(0,a.jsx)(en,{className:"text-paper dark:text-dark-paper h-6 w-6 cursor-pointer",onClick:function(){return t()}})]})]})}}),(0,a.jsx)("button",{onClick:s,className:"bg-gray-7 z-modal dark:bg-dark-gray-7 absolute right-0 top-0 m-5 cursor-pointer rounded p-2 transition-all",children:(0,a.jsx)(nn.F,{className:"text-paper dark:text-dark-paper h-6 w-6"})})]})]})},on=t(48159),an=(t(63700),t(90793),t(79039)),rn=r.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,g.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.848 13.05l.918 7.848a1 1 0 01-1.508.974L12 19.317l-4.258 2.555a1 1 0 01-1.508-.974l.918-7.848a7 7 0 119.695 0zm-1.864 1.284A6.973 6.973 0 0112 15a6.972 6.972 0 01-2.984-.666l-.56 4.776 3.03-1.817a1 1 0 011.028 0l3.03 1.817-.56-4.776zM17 8A5 5 0 117 8a5 5 0 0110 0z",clipRule:"evenodd"})}))})),ln=t(46414),sn=t(38488),un=t(8590),dn=t(73082),cn=t(53028),vn=t(22807),fn=t(76575),mn=Me.E,pn=function(e){return e.slice(0,100)+(e.length>100?"...":"")},gn=function(e){var n=e.isAdmin,t=(0,l.$G)("solutions",{keyPrefix:"post"}).t;return n?(0,a.jsx)(fn.E,{icon:an.f,label:t("isAdmin"),iconClassName:u.xy.labelIconSecondary,labelClassName:u.xy.labelTextSecondary}):null},xn=function(e){var n=e.reputation,t=e.iconClassName,i=e.labelClassName,o=(0,l.$G)("solutions",{keyPrefix:"post"}).t;return n?(0,a.jsx)(Te.u,{label:o("reputationTooltip"),placement:"top",children:(0,a.jsx)("div",{children:(0,a.jsx)(fn.E,{icon:rn,label:n,iconClassName:t,labelClassName:i})})}):null},hn=Me.E,yn=function(e){var n=e.className,t=e.solution,i=(0,r.useMemo)((function(){return pn(t.title)}),[t.title]),o=t.author,l=[o.username],d=(0,sn.Ew)(l).data,c=null===d||void 0===d?void 0:d[o.username];return(0,a.jsx)("div",{className:(0,s.yI)("w-full",n),children:(0,a.jsxs)("div",{className:"flex min-w-0 flex-col gap-3",children:[(0,a.jsx)("div",{className:(0,s.yI)("text-base font-semibold [overflow-wrap:anywhere]",u.xy.labelTextPrimary),children:i}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(un.D,{userAvatar:o.userAvatar,username:o.username}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(dn.S,{realName:o.realName,username:o.username,badgeIcon:o.activeBadgeIcon||(null===c||void 0===c?void 0:c.activeBadgeIcon)||"",badgeName:o.activeBadgeName||(null===c||void 0===c?void 0:c.activeBadgeName)||"",userClassName:(0,s.yI)("font-normal",R.nx.labelTextPrimary),reputation:null===c||void 0===c?void 0:c.reputation}),(0,a.jsx)(mn,{userSlug:o.username}),(0,a.jsx)(gn,{isAdmin:o.isAdmin})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(xn,{reputation:o.reputation,iconClassName:R.nx.labelTextTertiary,labelClassName:R.nx.labelTextSecondary}),(0,a.jsx)(fn.E,{icon:ln.t,label:t.viewCount,iconClassName:R.nx.labelTextTertiary,labelClassName:R.nx.labelTextSecondary}),(0,a.jsx)(cn.c,{timestamp:t.creationDate,iconClassName:R.nx.labelTextTertiary,formattedDateClassName:R.nx.labelTextSecondary}),(0,a.jsx)(hn,{ipRegion:t.ipRegion,labelClassName:R.nx.labelTextSecondary})]})]})]}),t.tags.length>0&&(0,a.jsx)(vn.P,{tags:t.tags,listClassName:"my-1",tagClassName:(0,s.yI)("h-5 flex items-center px-3",u.xy.bgFill01,u.xy.labelTextSecondary)})]})})},Sn=t(33436),kn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,g.Z)((0,o.Z)({},$(e)),{topicId:e.topicId,topicSlug:e.topicSlug});return(0,x.sN1)(h.f6,(0,o.Z)({},t),(0,g.Z)((0,o.Z)({},n),{enabled:Boolean(e.questionSlug),select:function(e){var n=e.prevSolution,t=e.nextSolution;return n||t?{prevSolution:n?{topicId:n.id,topicSlug:(0,Sn.o)(n.title),title:n.title}:void 0,nextSolution:t?{topicId:t.id,topicSlug:(0,Sn.o)(t.title),title:t.title}:void 0}:{prevSolution:void 0,nextSolution:void 0}}}))},bn=t(40791),Nn=t(94424),jn=t(50077),wn=function(e){var n=e.className,t=e.placement,i=e.questionSlug,o=e.topicId,d=e.topicSlug,c=e.title,v=e.currentTopicId,f=e.currentTopicSlug,m=(0,l.$G)("solutions",{keyPrefix:"post"}).t,p=(0,r.useMemo)((function(){return new URLSearchParams(window.location.search).toString()}),[]),g=(0,M.yp)(i,p,o,d),x="left"===t,h="right"===t,y=x?Nn.D:jn.E,S=m(x?"prevLabel":"nextLabel"),k=(0,N.z2)((function(e){return e.questionSlug})),w=(0,b.h)(),C=(0,N.z2)((function(e){return e.isDynamicLayout})),I=(0,F.WP)((function(e){return e.multipleTabMode})),E=(0,F.WP)((function(e){return e.solutionSideBySideMode})),A=I||E,_=(0,r.useCallback)((function(e){if(e.preventDefault(),C){var n={topicId:v};A?null===w||void 0===w||w.setTabConfig(j.r.SolutionPost,{title:c,questionSlug:i,topicId:o,topicSlug:d},n):null===w||void 0===w||w.openSolutionPostTab({title:c,questionSlug:i,topicId:o,topicSlug:d})}else O().push(g,void 0,{shallow:!0});T.d.qdPrevNextPostClick({qd_version:(0,Z.in)(),qd_question_slug:k,qd_post_switch_type:x?"prev":"next"})}),[C,k,x,f,v,A,w,c,i,o,d,g]);return(0,a.jsxs)(bn.r,{href:g,className:(0,s.yI)(u.Cj.fill1Hover,u.Cj.borderFill2,"flex min-w-0 justify-between gap-3 rounded-lg border px-4 py-3",n),onClick:_,children:[(0,a.jsx)("div",{className:(0,s.yI)("flex h-full items-center",{"order-1":x,"order-2":h}),children:(0,a.jsx)(y,{className:(0,s.yI)(u.xy.labelIconSecondary,"h-4 w-4")})}),(0,a.jsxs)("div",{className:(0,s.yI)("flex w-full flex-col gap-1 overflow-hidden",{"order-2":x,"order-1":h}),children:[(0,a.jsx)("div",{className:(0,s.yI)(u.xy.labelTextTertiary,"text-[11px] font-medium leading-[13px]",{"text-right":x,"text-left":h}),children:S}),(0,a.jsx)("div",{className:(0,s.yI)(u.xy.labelTextPrimary,"text-md truncate font-medium",{"text-right":x,"text-left":h}),children:c})]})]})},Cn=function(){return(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,a.jsx)(A.a,{className:"h-[64px] w-full"}),(0,a.jsx)(A.a,{className:"h-[64px] w-full"})]})},In=function(e){var n=e.topicId,t=e.topicSlug,i=(0,J.c)((function(e){return e.questionSlug})),r=(0,Q.n)().filters,l=kn((0,g.Z)((0,o.Z)({},r),{topicId:n,topicSlug:t,questionSlug:i})),s=l.isFetching,u=l.data;if(s||!u)return(0,a.jsx)(Cn,{});var d=u.prevSolution,c=u.nextSolution;return(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[d&&(0,a.jsx)(wn,{className:"w-full",placement:"left",questionSlug:i,topicId:d.topicId,title:d.title,topicSlug:d.topicSlug,currentTopicId:n,currentTopicSlug:t}),c&&(0,a.jsx)(wn,{className:"w-full",placement:"right",questionSlug:i,topicId:c.topicId,title:c.title,topicSlug:c.topicSlug,currentTopicId:n,currentTopicSlug:t})]})},Tn=t(50834),Fn=t.n(Tn),En=t(7830),An=t(60477),_n=t(95362),Pn=t.n(_n),Dn=t(55803),On=t(99534),qn=t(80441),Ln=t(89654),Bn=t(58544),Zn=function(e){e._standaloneKeybindingService.addDynamicKeybinding("-editor.action.triggerSuggest",null,(function(){}))},Mn=2,Vn=function(e){var n=e.editor,t=e.setEditor,i=e.onEditorDidMount,o=e.onChange,l=e.onCursorChange,u=e.value,d=e.className,c=e.options,v=(0,qn.Ik)(),f=(0,r.useState)(),m=f[0],p=f[1],g=null!==n&&void 0!==n?n:m;(0,Bn.E)(g);var x=(0,r.useRef)(null),h=(0,_e.z)(o),y=(0,_e.z)(l),S=(0,_e.z)(i),k=(0,_e.z)((function(e){p(e),null===t||void 0===t||t(e),null===S||void 0===S||S(e),e.onDidChangeModelContent((function(n){h(e.getValue(),n)})),e.onDidChangeCursorPosition((function(e){y(e)})),(0,Ln.d)(e,c)}));return(0,r.useEffect)((function(){if(v&&x.current){var e=v.editor.create(x.current,{fontSize:13,detectIndentation:!1,scrollBeyondLastLine:!1,wordWrap:"on",minimap:{enabled:!1},overviewRulerLanes:0,automaticLayout:!0,glyphMargin:!0,lineNumbersMinChars:Mn,padding:{top:8},fixedOverflowWidgets:!0,selectionHighlight:!1,parameterHints:{enabled:!1},lightbulb:{enabled:!1},hover:{enabled:!1},quickSuggestions:!1,suggestOnTriggerCharacters:!1,folding:!1,"bracketPairColorization.enabled":!1});return(0,Ln.d)(e,{tabSize:2}),Zn(e),k(e),function(){e.dispose(),null===t||void 0===t||t(null)}}}),[k,v,t]),(0,r.useEffect)((function(){if(v&&g&&c){var e=c.language,n=(0,On.Z)(c,["language"]);(0,Ln.d)(g,n);var t=g.getModel();e&&t&&v.editor.setModelLanguage(t,e)}}),[v,g,c]),(0,r.useEffect)((function(){g&&u&&g.getValue()!==u&&g.setValue(u)}),[g,u]),(0,r.useEffect)((function(){var e;if(g){var n=("".concat(null===(e=null===u||void 0===u?void 0:u.split("\n"))||void 0===e?void 0:e.length).length||1)+1;n!==Mn&&((0,Ln.d)(g,{lineNumbersMinChars:n}),Mn=n)}}),[g,u]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:(0,s.yI)("flex flex-1 flex-col overflow-hidden",d),translate:"no",children:(0,a.jsx)("div",{className:(0,s.yI)("flex-1 overflow-hidden"),children:(0,a.jsx)("div",{ref:x,className:"h-full w-full"})})})})},zn=function(e){var n=e.solution,t=(((0,V.U5)().data||{}).userStatus||{}).isAdmin,i=void 0!==t&&t,o=n.slug,l=(0,Dn.t)(),s=(0,r.useState)(),u=s[0],d=s[1],c=(0,r.useState)(!1),v=c[0],f=c[1],m=(0,r.useState)(""),p=m[0],g=m[1],x=function(){var e=(0,ae.Z)((function(e){return(0,le.__generator)(this,(function(n){switch(n.label){case 0:return[4,h.f6.request(Pn(),{slug:e})];case 1:return[2,n.sent().solutionArticle]}}))}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,ae.Z)((function(){var e;return(0,le.__generator)(this,(function(n){switch(n.label){case 0:return[4,x(o)];case 1:return e=n.sent(),d(e),f(!0),[2]}}))}));return function(){return e.apply(this,arguments)}}(),S=function(){return f(!1)},k=function(){var e=(0,ae.Z)((function(){var e,n,t,i,o,a,r,s,d,c,v;return(0,le.__generator)(this,(function(f){switch(f.label){case 0:if(!u)return[2];e=u.title,n=u.slateValue,t=u.question,i=t.titleSlug,o=u.tags,a=u.slug,r=u.thumbnail,s=u.summary,f.label=1;case 1:return f.trys.push([1,3,,4]),d=JSON.stringify(JSON.parse(p)),c=d||n||JSON.stringify(En.YO.createEmptyNode()),[4,l({title:e,content:"",slateValue:c,enableReward:!1,questionSlug:i,tags:o.map((function(e){return e.slug})),slug:a,mentionedUserSlugs:[],thumbnail:r,summary:s})];case 2:return!(v=f.sent()).ok||v.error?G.y.error("\u51fa\u9519\u4e86"):(S(),G.y.success("\u4fee\u6539\u6210\u529f\uff0c\u5373\u5c06\u5237\u65b0\u9875\u9762"),setTimeout((function(){location.reload()}),1e3)),[3,4];case 3:return f.sent(),G.y.error("\u6570\u636e\u683c\u5f0f\u9519\u8bef"),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{className:"text-sd-danger cursor-pointer underline underline-offset-2 hover:opacity-80",onClick:y,children:"\u7ba1\u7406\u5458\u4fee\u6539"}),(0,a.jsxs)(Je.u,{visible:v,closable:!1,onCancel:S,noShadow:!0,beforeHistoryChangeEnable:!1,className:"m-0",children:[(0,a.jsx)("div",{style:{width:"60vw",height:"80vh"},children:(null===u||void 0===u?void 0:u.slateValue)&&(0,a.jsx)(Vn,{className:"h-full w-full",value:u.slateValue,onChange:function(e){g(e)},options:{language:"javascript",padding:{top:0,bottom:0},glyphMargin:!1}})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,a.jsx)(An.z,{onClick:S,children:"\u53d6\u6d88"}),(0,a.jsx)(An.z,{variant:"primary",onClick:k,children:"\u63d0\u4ea4\u4fee\u6539"})]})]})]}):null},Gn=t(36866),Rn=t(12483),Un=function(){var e=(0,Gn.B)(x.jBr.QdSolutionDetail).data;return e?(0,a.jsx)(Rn.v,(0,g.Z)((0,o.Z)({},e),{location:x.jBr.QdSolutionDetail})):null},Xn={highlight:!0,gfm:!0,math:!0,html:!0,mcqs:He.Oo,diaporama:He.Oo,imageSize:!0,embedVideos:He.Oo,normalVideo:He.ob,groupedCode:!0,relAttribute:!0,httpsImagesOnly:He.Oo,premiumOnlyVideo:He.Oo,htmlSanitization:!0,nodebbImageTransformation:He.Oo,brokenImageHolder:!0,linkSift:He.ob,linkTargetBlank:!0,aliPlayerVideo:He.ob,slides:He.ob,toc:!0,customComponent:!0},Hn=(0,Ue.t)((0,g.Z)((0,o.Z)({},Xn),{preserveLineBreaks:!0})),$n=function(e){var n,t=e.solution,i=t.isOfficial?null===t||void 0===t||null===(n=t.content)||void 0===n?void 0:n.replace(/\[toc\]/gi,""):null===t||void 0===t?void 0:t.content,o=(0,r.useMemo)((function(){var e;return{author:null!==(e=t.author.realName)&&void 0!==e?e:t.author.username,link:"".concat(window.location.origin).concat(window.location.pathname)}}),[t.author.realName,t.author.username]),l=(0,$e.d1)(o),d=(0,r.useState)(),c=d[0],v=d[1],f=(0,r.useState)(!1),m=f[0],p=f[1],g=(0,r.useState)(!1),x=g[0],h=g[1];(0,r.useEffect)((function(){if(t.slateValue)try{var e=JSON.parse(t.slateValue);v(e),h(!1)}catch(n){h(!0)}}),[t.slateValue]),(0,r.useEffect)((function(){c&&(0,Xe._v)(500).then((function(){p(!0)}))}),[c,t.slug]);var y=!!t.slateValue;return(0,a.jsxs)("div",{className:(0,s.yI)("flex w-full flex-col p-4 pb-8",y?"gap-2":"gap-4"),children:[(0,a.jsx)(yn,{solution:t}),(0,a.jsx)("div",{className:"break-words",onCopy:l,children:y?x?(0,a.jsxs)("div",{className:"mb-4 flex h-full w-full flex-col items-center justify-center gap-4 py-20",children:[(0,a.jsxs)("div",{className:(0,s.yI)(u.Cj.label3),children:["\u5185\u5bb9\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7",(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"underline underline-offset-2 hover:opacity-80",href:"https://support.leetcode.cn/hc/request/new",children:"\u8054\u7cfb\u5ba2\u670d"})]}),(0,a.jsx)(zn,{solution:t})]}):(0,a.jsxs)(a.Fragment,{children:[!m&&(0,a.jsxs)(E.O,{className:"flex flex-col gap-4",children:[(0,a.jsx)(A.a,{className:"h-4 w-[90%]"}),(0,a.jsx)(A.a,{className:"h-4 w-[60%]"}),(0,a.jsx)(A.a,{className:"h-4 w-[90%]"})]}),(0,a.jsx)("div",{style:{opacity:Number(m)},children:(0,a.jsx)(on.e,{readOnly:!0,initValue:c,onCopyContent:function(e){e.length>=80?Re()(e+(0,$e.Ou)(o)):Re()(e)}})})]}):(0,a.jsx)($e.yT,{value:o,children:(0,a.jsx)(tn,{children:(0,a.jsx)(Hn,{content:i||"",customStyles:Fn()})})})}),(0,a.jsx)(Un,{}),(0,a.jsx)(In,{topicId:t.id,topicSlug:t.slug})]})},Wn=(t(82647),t(59421)),Kn=function(e){var n=e.topicId;return(0,x.O6j)(h.f6,{topicId:n},{enabled:!!n,select:function(e){var n,t,i=null===e||void 0===e?void 0:e.topic;return i?{title:i.title,author:null!==(t=null===(n=i.post.author)||void 0===n?void 0:n.username)&&void 0!==t?t:""}:null}})},Qn=function(e){var n=e.questionSlug,t=e.topicId,i=e.topicSlug,o=(0,l.$G)("problems").t,a=(0,Wn.K)(n).data,r=Kn({topicId:Number(t)}).data,s="https://".concat(Z._d),u="".concat(null===r||void 0===r?void 0:r.title," - ").concat(null===a||void 0===a?void 0:a.title),d="View ".concat(null===r||void 0===r?void 0:r.author,"'s solution of ").concat(null===a||void 0===a?void 0:a.title," on LeetCode, the world's largest programming community."),c="".concat(s).concat(M.Hb.questionDetail(n),"solutions/").concat(t,"/").concat(i);return{title:o("meta.title",{title:u}),description:d,link:c}},Jn=t(43899),Yn=t(92479),et=function(e){var n=e.questionSlug,t=e.topicId,i=e.topicSlug,o=(0,l.$G)("common").t,r=(0,l.$G)("solutions",{keyPrefix:"post"}).t,u=(0,b.h)(),d=(0,F.WP)((function(e){return e.solutionSideBySideMode})),c=(0,F.WP)((function(e){return e.multipleTabMode})),v=(0,N.z2)((function(e){return e.isDynamicLayout})),m=(0,D.useRouter)(),p="https://".concat(Z._d).concat(M.Hb.solutions(n,t,i)),g=(0,_e.z)((function(){if(v){var e=(0,f.d)(i,t);null===u||void 0===u||u.closeSolutionPostTab(e)}else m.push(M.Hb.solutions(n),void 0,{shallow:!0})}));return(0,a.jsxs)("div",{className:(0,s.yI)("flex h-8 w-full justify-between border-b py-1 pl-2 pr-1",R.nx.borderBorderQuaternary),children:[(0,a.jsxs)("div",{onClick:g,className:(0,s.yI)("flex cursor-pointer items-center gap-2 text-sm",R.nx.labelTextSecondary,R.rG.labelTextPrimary),children:[(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.acZ}),r("allSolutions")]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Jn.q,{copyValue:p,className:"h-6 w-6",showOnGroupHover:!1,customCopyIcon:(0,a.jsx)(Te.u,{label:o("copyLink"),placement:"top",children:(0,a.jsx)("div",{children:(0,a.jsx)(Ie.z,{variant:"text",shape:"square",size:"sm",icon:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.nNP}),className:(0,s.yI)("p-1",R.nx.labelTextSecondary)})})}),customCopiedIcon:(0,a.jsx)(Ie.z,{variant:"text",shape:"square",size:"sm",icon:(0,a.jsx)(Fe.e,{variant:"14px",padding:"square",icon:we.LEp}),className:(0,s.yI)("p-1",R.nx.labelGreen60,"enabled:hover:bg-transparent")})}),v&&!d&&!c&&(0,a.jsx)(Yn.I,{})]})]})},nt="solution-detail",tt=function(e){var n=e.title,t=e.description;return(0,a.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,a.jsx)(v.D,{}),n&&(0,a.jsx)("h3",{className:(0,s.yI)("mt-[32px] text-center text-base",u.Cj.labelGrey8),children:n}),t&&(0,a.jsx)("p",{className:(0,s.yI)("mt-[12px] text-center text-xs",u.Cj.label4),children:t})]})},it=function(e){var n=e.topicId,t=e.topicSlug,i=e.commentId,o=e.questionSlug,u=(0,l.$G)("solutions",{keyPrefix:"post"}).t,v=Boolean(n&&t),g=k({topicId:n,slug:t},{enabled:v}),x=g.isFetching,h=g.data,y=C().mutateAsync;(0,r.useEffect)((function(){y&&y({entityId:t,entityType:I.pyR.Article})}),[y,t]);var S=!x&&h,w=!v||!x&&!h,E=Qn({questionSlug:o,topicId:n,topicSlug:t});(0,r.useEffect)((function(){T.d.qdSolutionDetailExposure({qd_question_slug:o,qd_post_url:window.location.href,qd_panel_side:""})}),[o]);var A=(0,b.h)(),_=(0,F.WP)((function(e){return e.multipleTabMode})),D=(0,N.z2)((function(e){return e.isDynamicLayout})),O=(0,F.WP)((function(e){return e.solutionSideBySideMode}));return(0,r.useEffect)((function(){if(!x&&h)if(_||O){var e=(0,f.d)(t,n);null===A||void 0===A||A.setTabCustomTitle(j.r.SolutionPost,h.title,e),null===A||void 0===A||A.reselectTabIfActive(j.r.SolutionPost,e)}else null===A||void 0===A||A.setTabCustomTitle(j.r.Solutions,h.title),null===A||void 0===A||A.reselectTabIfActive(j.r.Solutions)}),[x,h,n]),(0,a.jsxs)(a.Fragment,{children:[!D&&(0,a.jsx)(p.p,{title:E.title,description:E.description,openGraph:{url:E.link}}),(0,a.jsx)("div",{className:(0,s.yI)("h-full w-full overflow-hidden",{"!min-w-[440px]":D}),children:(0,a.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,a.jsx)("div",{className:"flex h-full w-full",children:(0,a.jsxs)("div",{className:"relative flex h-full w-full min-w-0 flex-col",children:[(0,a.jsx)(et,{questionSlug:o,topicId:n,topicSlug:t}),(0,m.Y)(x&&(0,a.jsx)(P,{}),w&&(0,a.jsx)(tt,{title:u("invalidSolutionTitle"),description:u("invalidSolutionDescription")}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,s.yI)("relative flex w-full flex-1 flex-col overflow-y-auto"),children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[960px]",children:[(0,a.jsx)($n,{solution:h}),(0,a.jsx)("div",{children:(0,a.jsx)(d.V,{topicId:h.id,questionSlug:o,commentCount:h.commentCount,commentId:i,layoutType:c.Dk.Solution,uniqueKey:nt+h.id})})]})}),(0,a.jsx)(ze,{solution:h})]}),(0,a.jsx)(tt,{title:"",description:""}))]})})})})]})},ot=function(e){var n=(0,J.c)((function(e){return e.setQuestionSlug}));(0,r.useEffect)((function(){return n(e.questionSlug)}),[n,e.questionSlug]);var t=(0,N.z2)((function(e){return e.addOpeningSolutionIdAndSlug})),i=(0,N.z2)((function(e){return e.removeOpeningSolutionIdAndSlug}));return(0,r.useEffect)((function(){return t(e.topicId,e.topicSlug),function(){return i(e.topicId,e.topicSlug)}}),[t,e.topicId,e.topicSlug,i]),(0,a.jsx)(it,(0,o.Z)({},e))}},25270:function(e,n,t){"use strict";t.d(n,{X:function(){return c}});var i=t(26042),o=t(69396),a=t(99534),r=t(15937),l=t(64529),s=t(782),u=t(76248),d={query:"",languageTags:[],topicTags:[],isSelectedMySolutionTag:!1,orderBy:void 0,page:1,perPage:15},c=(0,l.Ue)((0,s.XR)((0,s.$e)((0,o.Z)((0,i.Z)({},d),{tagNamesMap:{}}),(function(e){return{updateFilters:function(n){return e((function(e){var t=n.page,r=(0,a.Z)(n,["page"]),l=void 0===t,s=(0,o.Z)((0,i.Z)({},e,r),{page:l?1:t});return(0,u.X)(e,n)?e:s}))},setTagNamesMap:function(n){return e((function(e){return(0,o.Z)((0,i.Z)({},e),{tagNamesMap:(0,r.Z)(n.map((function(e){return[e.slug,e.name]})))})}))},resetFilters:function(){return e((function(e){return(0,i.Z)({},e,d)}))}}}))))},56435:function(e,n,t){"use strict";t.d(n,{c:function(){return u}});var i=t(26042),o=t(69396),a=t(64529),r=t(782),l=t(76248),s={questionSlug:"",topicId:void 0,topicTitleSlug:void 0,commentId:void 0},u=(0,a.Ue)((0,r.XR)((0,r.$e)(s,(function(e){return{setQuestionSlug:function(n){return e((function(e){return(0,o.Z)((0,i.Z)({},e),{questionSlug:n})}))},update:function(n){return e((function(e){return(0,l.X)(e,n)?e:(0,i.Z)({},e,n)}))},reset:function(){return e((function(e){return(0,o.Z)((0,i.Z)({},e),{topicId:void 0,topicTitleSlug:void 0,commentId:void 0})}))}}}))))},81815:function(e,n,t){"use strict";t.d(n,{l:function(){return s},n:function(){return l}});var i=t(69441),o=t(67294),a=t(25270),r=["query","languageTags","topicTags","orderBy","page","perPage"],l=function(){var e=(0,a.X)((function(e){return(0,i.Z)(e,r)})),n=(0,a.X)((function(e){return e.page})),t=(0,a.X)((function(e){return e.updateFilters})),l=(0,o.useCallback)((function(e){return t({page:e})}),[t]);return{filters:e,page:n,onPageChange:l}},s=function(){return(0,i.Z)(a.X.getState(),r)}},40884:function(e,n,t){"use strict";t.d(n,{G:function(){return d}});var i=t(26042),o=t(69396),a=t(64529),r=t(782),l="QD_SHOWED_SIDE_BY_SIDE_FEATURE_ENTER",s="QD_SHOWED_SIDE_BY_SIDE_FEATURE_EXIT",u=window.localStorage;var d=(0,a.Ue)((0,r.$e)({solutionOpenedCount:0,showedFeatureEnter:!!u&&"true"===localStorage.getItem(l),showedFeatureExit:!!u&&"true"===localStorage.getItem(s)},(function(e){return{addSolutionOpenedCount:function(){return e((function(e){return(0,o.Z)((0,i.Z)({},e),{solutionOpenedCount:e.solutionOpenedCount+1})}))},acknowledgedFeatureEnter:function(){localStorage.setItem(l,JSON.stringify(!0)),e((function(e){return(0,o.Z)((0,i.Z)({},e),{showedFeatureEnter:!0})}))},acknowledgedFeatureExit:function(){localStorage.setItem(s,JSON.stringify(!0)),e((function(e){return(0,o.Z)((0,i.Z)({},e),{showedFeatureExit:!0})}))}}})))},12483:function(e,n,t){"use strict";t.d(n,{v:function(){return w}});var i=t(99534),o=t(85893),a=t(67294),r=t(12922),l=t(69485),s=t(88525),u=t(87231),d=function(e){var n=e.height,t=e.width,i=e.bannerUrl,s=e.targetUrl,d=e.location,c=e.title;(0,a.useEffect)((function(){u.o.advertisementAdExposure({advertisement_ad_position:null!==d&&void 0!==d?d:"",advertisement_ad_name:null!==c&&void 0!==c?c:""})}),[]);var v=(0,l.z)((function(){u.o.advertisementAdClick({advertisement_ad_position:null!==d&&void 0!==d?d:"",advertisement_ad_name:null!==c&&void 0!==c?c:""})}));return(0,o.jsx)("div",{className:(0,r.yI)("group-hover/ads:bg-sd-muted relative overflow-hidden transition-colors","group-hover/ads:before:text-sd-muted-foreground/50 before:absolute before:left-1/2 before:top-1/2 before:-translate-x-1/2 before:-translate-y-1/2 before:text-transparent before:transition-colors before:content-['Advertisement']"),children:(0,o.jsx)("a",{style:{width:"".concat(t,"px"),height:"".concat(n,"px")},href:null!==s&&void 0!==s?s:"",onClick:v,children:(0,o.jsx)("img",{src:null!==i&&void 0!==i?i:"",width:t,height:n,alt:""})})})},c=t(73582),v=t(4298),f=t.n(v),m=t(9962),p=t(70341),g=t(31799),x=t(40791),h=t(41435),y=t(83210),S=t(134),k="ca-pub-3965754337269139",b=function(e){var n=e.slot,t=e.width,i=e.height,r=e.onAdStatusChange,l=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=l.current;if(e){var n=new MutationObserver((function(n){n.forEach((function(n){if("data-ad-status"===n.attributeName){var t=e.getAttribute("data-ad-status");t&&(null===r||void 0===r||r(t))}}))}));return n.observe(e,{attributes:!0,attributeFilter:["data-ad-status"]}),function(){n.disconnect()}}}),[r]),(0,a.useEffect)((function(){try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f(),{async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=".concat(k),crossOrigin:"anonymous"}),(0,o.jsx)("ins",{className:"adsbygoogle",style:{display:"inline-block",width:"".concat(t,"px"),height:"".concat(i,"px")},"data-ad-client":k,"data-ad-slot":n,ref:l})]})},N=function(e){var n,t=e.slot,i=e.width,l=e.height,s=e.onAdStatusChange,u=(0,a.useState)(!1),d=u[0],c=u[1],v=(0,a.useState)(null),f=v[0],p=v[1],g=(0,m.s)(f,{threshold:.5}),x=null!==(n=null===g||void 0===g?void 0:g.isIntersecting)&&void 0!==n&&n,h=(0,a.useState)(i),y=h[0],S=h[1];return(0,a.useEffect)((function(){if(!d&&x&&f){var e=f.getBoundingClientRect().x+y+10-window.innerWidth;S((function(n){return e>0?n-e:n})),c(!0)}}),[f,d,x,y]),(0,o.jsx)("div",{className:(0,r.yI)("group-hover/ads:bg-sd-muted relative overflow-hidden transition-colors","group-hover/ads:before:text-sd-muted-foreground/50 before:absolute before:left-1/2 before:top-1/2 before:-translate-x-1/2 before:-translate-y-1/2 before:text-transparent before:transition-colors before:content-['Advertisement']"),ref:p,children:(0,o.jsx)("div",{style:{width:"".concat(y,"px"),height:"".concat(l,"px")},children:d&&(0,o.jsx)(b,{slot:t,width:y,height:l,onAdStatusChange:s})})})},j=function(e){var n=e.onClose,t=(0,a.useState)(!1),i=t[0],r=t[1];(0,a.useEffect)((function(){i&&u.o.advertisementAdsensePopupExposure()}),[i]);var s=(0,l.z)((function(){u.o.advertisementAdsenseCloseBtnClick()})),d=(0,l.z)((function(){u.o.advertisementAdsensePopupCloseClick(),n()})),v=(0,l.z)((function(){u.o.advertisementAdsensePopupSubscribeClick(),r(!1)}));return(0,o.jsx)(h.J2,{open:i,onOpenChange:r,side:"left",align:"start",sideOffset:0,className:"border-sd-border flex max-w-[340px] flex-col gap-3 border pt-3 text-sm",onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)("div",{className:"text-sd-foreground text-base font-medium",children:"\u2728 Upgrade to Ad-free"}),(0,o.jsx)("div",{className:"text-sd-muted-foreground text-sm",children:"Premium users enjoy the Ad-free LeetCoding experience."})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,o.jsx)(y.z,{onClick:d,size:"xs",variant:"secondary",children:"Close this one"}),(0,o.jsx)(y.z,{onClick:v,size:"xs",variant:"success",className:"bg-sd-brand-lc-orange hover:bg-sd-brand-lc-orange/80 hover:text-sd-fixed-white dark:hover:text-sd-fixed-white",asChild:!0,children:(0,o.jsx)(x.r,{href:p.Hb.premium(g.D.AdSenseRemove),isExternal:!0,children:"Subscribe to Upgrade"})})]})]}),children:(0,o.jsx)("div",{className:"bg-sd-muted text-sd-muted-foreground h-6 w-6 flex-none cursor-pointer p-1 opacity-0 transition-opacity group-hover/ads:opacity-100",onClick:s,children:(0,o.jsx)(S.e,{variant:"14px",padding:"square",icon:c.YIN})})})},w=function(e){var n=e.className,t=(0,i.Z)(e,["className"]),u=(0,a.useState)(!1),c=u[0],v=u[1],f=(0,a.useState)(!1),m=f[0],p=f[1],g=(0,l.z)((function(){p(!0)})),x=(0,l.z)((function(e){v("unfilled"===e)}));if(m||c)return null;var h=t.adSource,y=t.adSlot,S=t.bannerUrl,k=t.targetUrl;return h===s.vk1.Adsense&&y?(0,o.jsxs)("div",{className:(0,r.yI)("group/ads flex w-full items-start justify-start",n),children:[(0,o.jsx)(N,{slot:y,width:t.width,height:t.height,onAdStatusChange:x}),(0,o.jsx)(j,{onClose:g})]}):h===s.vk1.InternalAd&&S&&k?(0,o.jsx)("div",{className:(0,r.yI)("group/ads flex w-full items-start justify-start",n),children:(0,o.jsx)(d,{bannerUrl:S,targetUrl:k,width:t.width,height:t.height,title:t.title,location:t.location})}):null}},12573:function(e,n,t){"use strict";t.d(n,{U:function(){return o}});var i=t(67294);function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,i.useState)(e),t=n[0],o=n[1],a=(0,i.useCallback)((function(){return o(!0)}),[]),r=(0,i.useCallback)((function(){return o(!1)}),[]);return{visible:t,showModal:a,hideModal:r}}},47207:function(e,n,t){"use strict";t.d(n,{Y:function(){return i}});var i=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=!0,o=!1,a=void 0;try{for(var r,l=n[Symbol.iterator]();!(i=(r=l.next()).done);i=!0){var s=r.value;if(s)return s}}catch(u){o=!0,a=u}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return null}},87231:function(e,n,t){"use strict";t.d(n,{o:function(){return a}});var i=t(8183),o=t(23025),a={advertisementAdExposure:function(e){var n={key:"advertisement_ad_exposure",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAdClick:function(e){var n={key:"advertisement_ad_click",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAdFrequencyLimitExposure:function(e){var n={key:"advertisement_ad_frequency_limit_exposure",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAdFrequencyLimitClick:function(e){var n={key:"advertisement_ad_frequency_limit_click",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAcAfterAdClick:function(e){var n={key:"advertisement_ac_after_ad_click",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAcAfterAdExposure:function(e){var n={key:"advertisement_ac_after_ad_exposure",data:e};i.V[o.X.GIO](n),i.V[o.X.GA4](n),i.V[o.X.CONSOLE](n),i.V[o.X.SELF_DB](n)},advertisementAdsenseCloseBtnClick:function(){var e={key:"advertisement_adsense_close_btn_click",data:{}};i.V[o.X.GIO](e),i.V[o.X.GA4](e),i.V[o.X.CONSOLE](e),i.V[o.X.SELF_DB](e)},advertisementAdsensePopupExposure:function(){var e={key:"advertisement_adsense_popup_exposure",data:{}};i.V[o.X.GIO](e),i.V[o.X.GA4](e),i.V[o.X.CONSOLE](e),i.V[o.X.SELF_DB](e)},advertisementAdsensePopupCloseClick:function(){var e={key:"advertisement_adsense_popup_close_click",data:{}};i.V[o.X.GIO](e),i.V[o.X.GA4](e),i.V[o.X.CONSOLE](e),i.V[o.X.SELF_DB](e)},advertisementAdsensePopupSubscribeClick:function(){var e={key:"advertisement_adsense_popup_subscribe_click",data:{}};i.V[o.X.GIO](e),i.V[o.X.GA4](e),i.V[o.X.CONSOLE](e),i.V[o.X.SELF_DB](e)}}}}]);