"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2089],{8276:function(n,t,e){e.d(t,{Hv:function(){return d},hx:function(){return u},x1:function(){return c}});var i=e(51438),s=e(26042),a=e(69396),o=e(68708),r=e(75117),l=function(){function n(t){(0,i.Z)(this,n),this.headers={"content-type":"application/json"},this.baseUrl="",this.baseUrl=t}var t=n.prototype;return t.request=function(n,t,e){return this.rawRequest(n,t,e).then((function(n){if(!n.ok)throw new Error("Network response was not ok");return n.json()}))},t.rawRequest=function(n,t,e){var i=function(n,t){var e;if(t||n){if(!n)return t;var i,o,r,l=null!==t&&void 0!==t?t:{},c=null!==(i=l.headers)&&void 0!==i?i:{};return(0,a.Z)((0,s.Z)({},l),{headers:(0,a.Z)((0,s.Z)({},c),{cookie:null!==(o=n.headers.cookie)&&void 0!==o?o:"","X-CSRFToken":null!==(r=null===(e=n.cookies)||void 0===e?void 0:e.csrftoken)&&void 0!==r?r:""})})}}(e,t);return fetch("".concat(this.baseUrl).concat(n),(0,s.Z)({headers:new Headers((0,a.Z)((0,s.Z)({},this.headers),{"X-CSRFToken":(0,o._V)()})),credentials:"same-origin"},i))},n}(),c=new l(""),u=new l(r.Vq),d=(new l(r.Vq),{favoriteLists:function(n){return"/api/problems/favorite_lists/".concat(n,"/")},problems:function(n){return"/api/problems/".concat(n,"/")},problemsFilter:function(n){return"/problems/api/filter-questions/".concat(encodeURIComponent(n))},problemsList:"/problems/api/favorites/",problemsTags:"/problems/api/tags/",problemsCategories:"/problems/api/card-info/",banner:function(n){return"/api/banner/".concat(n,"/")},session:"/session/",virtualContestStart:function(n){return"/contest/api/".concat(n,"/virtual_participate")},runcodeTaskEnqueue:function(n){return"/problems/".concat(n,"/interpret_solution/")},runcodeResult:function(n){return"/submissions/detail/".concat(n,"/check/")},submitTaskEnqueue:function(n){return"/problems/".concat(n,"/submit/")},submitResult:function(n){return"/submissions/detail/".concat(n,"/check/")},memoryDistribution:function(n){return"/submissions/api/memory_distribution/".concat(n,"/")},runtimeDistribution:function(n){return"/submissions/api/runtime_distribution/".concat(n,"/")},lastSubmittedCode:function(n,t){return"/submissions/latest/?qid=".concat(n,"&lang=").concat(t)},contestRuncodeTaskEnqueue:function(n,t){return"/contest/api/".concat(n,"/problems/").concat(t,"/interpret_solution/")},contestSubmitTaskEnqueue:function(n,t){return"/contest/api/".concat(n,"/problems/").concat(t,"/submit/")},contestInfo:function(n){return"/contest/api/info/".concat(n,"/")},contestRankingTop:function(n){var t=n.contestTitleSlug,e=n.region;return"/contest/api/ranking/".concat(t,"/?region=").concat(e,"&top=true")},contestRankingPage:function(n){var t=n.contestTitleSlug,e=n.pagination,i=void 0===e?1:e,s=n.region;return"/contest/api/ranking/".concat(t,"/?pagination=").concat(i,"&region=").concat(s)},contestMyRanking:function(n,t){return"/contest/api/myranking/".concat(n,"/?region=").concat(t)},contestSubmission:function(n){return"/api/submissions/".concat(n,"/")},contestSubmissionReportStatus:function(n){return"/contest/api/reports/submissions/".concat(n,"/")},contestSubmissionReport:"/contest/api/reports/",student:"/student/api/",studentDiscount:"/student/api/24discount/",subscribeCheckout:"/subscription/add_card_and_checkout/",isChinaIp:"/api/is_china_ip/"})},47816:function(n,t,e){e.d(t,{$q:function(){return c},no:function(){return i},qE:function(){return d}});var i,s=e(85893),a=e(67294),o=e(12922),r=e(45404),l=e(68708),c=function(n){var t=n.src,e=n.username,i=n.className;return(0,s.jsx)(r.q,{src:t,alt:e,className:(0,o.yI)("h-4 w-4 flex-none",i)})};!function(n){n[n.YOU=0]="YOU",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.THIRD=3]="THIRD",n[n.OTHERS=4]="OTHERS"}(i||(i={}));var u=function(n){var t=n.type,e=n.className,r=(0,a.useState)((0,l.Yu)())[0];return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",className:(0,o.yI)("text-text-quaternary",e),children:[(0,s.jsx)("circle",{cx:"17",cy:"17",r:"16.5",stroke:t===i.OTHERS?"currentColor":"url(#".concat(r,")")}),(0,s.jsxs)("defs",{children:[t===i.YOU&&(0,s.jsxs)("linearGradient",{id:r,x1:"39.8662",y1:"34",x2:"-13.9172",y2:"25.2494",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:"0.05"}),(0,s.jsx)("stop",{offset:"0.2",stopColor:"hsl(var(--ranking-primary))"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:"hsl(var(--ranking-highlight))"}),(0,s.jsx)("stop",{offset:"0.85",stopColor:"hsl(var(--ranking-primary))"})]}),t===i.FIRST&&(0,s.jsxs)("linearGradient",{id:r,x1:"40.4375",y1:"34",x2:"-6.13755",y2:"26.0058",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:"0.1",stopColor:"#291B05"}),(0,s.jsx)("stop",{offset:"0.2",stopColor:"#9E7537"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:"#FFF0B1"}),(0,s.jsx)("stop",{offset:"0.85",stopColor:"#9E7537"})]}),t===i.SECOND&&(0,s.jsxs)("linearGradient",{id:r,x1:"40.009",y1:"34",x2:"-8.09437",y2:"26.8592",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:"0.1",stopColor:"#282828"}),(0,s.jsx)("stop",{offset:"0.2",stopColor:"#898989"}),(0,s.jsx)("stop",{offset:"0.45",stopColor:"white"}),(0,s.jsx)("stop",{offset:"0.85",stopColor:"#898989"})]}),t===i.THIRD&&(0,s.jsxs)("linearGradient",{id:r,x1:"40.5806",y1:"34",x2:"-5.99448",y2:"26.0058",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:"0.1",stopColor:"#4B2C10"}),(0,s.jsx)("stop",{offset:"0.2",stopColor:"#9E5817"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:"#FFD7BA"}),(0,s.jsx)("stop",{offset:"0.85",stopColor:"#9E5817"})]})]})]})},d=function(n){var t=n.src,e=n.username,a=n.type,o=void 0===a?i.OTHERS:a;return(0,s.jsxs)("div",{className:"relative h-[34px] w-[34px] flex-none",children:[(0,s.jsx)(r.q,{src:t,alt:e,className:"m-[3px] h-7 w-7"}),(0,s.jsx)(u,{type:o,className:"absolute inset-0"})]})}},66066:function(n,t,e){e.d(t,{A:function(){return a}});var i=e(85893),s=e(12922),a=function(n){var t=n.cardImg,e=n.className,a=n.backgroundColors;return(0,i.jsxs)("div",{className:(0,s.yI)("pointer-events-none h-full w-full bg-[#FCFAFE] dark:bg-[#08050D]",e),children:[t&&(0,i.jsx)("img",{src:t,alt:"",className:"h-full w-full object-fill opacity-[0.08] blur-2xl"}),!t&&a&&(0,i.jsx)("div",{className:"h-full w-full opacity-[0.08] blur-2xl",style:{background:"linear-gradient(".concat(a[0],", ").concat(a[1],")")}}),(0,i.jsx)("div",{className:"dark:to-sd-fixed-black to-sd-fixed-white absolute inset-0 h-full w-full bg-gradient-to-b from-transparent"})]})}},45065:function(n,t,e){e.d(t,{n:function(){return r}});var i=e(85893),s=e(66749),a=e(67294),o=e(12922),r=function(n){var t=n.active,e=(0,a.useState)((0,s.Z)())[0];return(0,i.jsx)("div",{className:"relative h-2 w-4",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"20",viewBox:"0 0 30 20",fill:"none",className:(0,o.yI)("text-fill-quaternary absolute -left-2 -top-1.5",{"text-sd-timer-green":t}),children:[(0,i.jsx)("g",{filter:t?"url(#".concat(e,")"):"",children:(0,i.jsx)("path",{d:"M7.81063 6.75746C7.92193 6.3123 8.32191 6 8.78078 6H22.7192C23.3698 6 23.8472 6.61139 23.6894 7.24254L22.1894 13.2425C22.0781 13.6877 21.6781 14 21.2192 14H7.28078C6.6302 14 6.15285 13.3886 6.31063 12.7575L7.81063 6.75746Z",fill:"currentColor"})}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:e,x:"0.280273",y:"0",width:"29.4395",height:"20",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"3"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0117647 0 0 0 0 0.92549 0 0 0 0 0.482353 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_328_5493"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_328_5493",result:"shape"})]})})]})})}},93002:function(n,t,e){e.d(t,{Q:function(){return f}});var i=e(85893),s=e(11321),a=e(67294),o=e(12922),r=e(69485),l=e(37605),c=e(62758),u=e(13540),d=e(15363),f=function(n){var t=n.contestData,e=n.ongoingStatus,f=n.className,g=n.children,m=(0,s.$G)("contest",{keyPrefix:"rankingPage"}).t,v=e===l.H.END,x=null!==t&&void 0!==t?t:{},p=x.rankingUpdated,h=x.unrated,C=(0,d.I)(),k=C.isContestOngoing,_=C.isVirtualContest,y=(0,r.z)((function(n){n&&u.e.contestRankingRankInfoClick({contest_is_virtual:String(_),contest_is_ongoing:String(k)})})),S=(0,a.useMemo)((function(){return v?h?(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:m("rankTipUnrated")})}):p?(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:m("rankTipUpdated")})}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:m("rankTipPending")})}):(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:m("rankTipTitle")}),(0,i.jsxs)("ul",{className:"list-disc [&>li]:ml-5",children:[(0,i.jsx)("li",{children:m("rankTip1")}),(0,i.jsx)("li",{children:m("rankTip2")})]})]})}),[v,h,p,m]);return(0,i.jsx)(c.u,{className:(0,o.yI)("max-w-[260px]",f),label:S,onOpenChange:y,children:(0,i.jsx)("div",{children:g})})}},60299:function(n,t,e){e.d(t,{Wu:function(){return o}});var i=e(85893),s=e(67294),a=e(68708),o=function(n){var t=n.size,e=void 0===t?"default":t,o=(0,s.useState)((0,a.Yu)())[0];return(0,i.jsxs)(i.Fragment,{children:["default"===e&&(0,i.jsxs)("div",{className:"relative inline-flex h-6 w-[65px] flex-none items-center justify-center",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"65",height:"24",viewBox:"0 0 65 24",fill:"none",className:"absolute inset-0",children:[(0,i.jsx)("path",{d:"M57.1189 3.40445e-07C58.7094 3.50882e-07 60.1488 0.942248 60.785 2.3999L64.2767 10.3999C64.722 11.4202 64.722 12.5798 64.2767 13.6001L60.785 21.6001C60.1487 23.0578 58.7094 24 57.1189 24H7.85615C6.2657 24 4.82634 23.0578 4.19013 21.6001L0.698389 13.6001C0.25308 12.5798 0.253081 11.4202 0.698389 10.3999L4.19013 2.3999C4.82634 0.942247 6.26569 6.74631e-09 7.85614 1.71828e-08L57.1189 3.40445e-07Z",fill:"url(#".concat(o,")")}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:o,x1:"70.5",y1:"35",x2:"-21.2987",y2:"9.05514",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.117961",stopColor:"hsl(var(--ranking-primary))"}),(0,i.jsx)("stop",{offset:"0.925",stopColor:"hsl(var(--ranking-secondary))"})]})})]}),(0,i.jsx)("span",{className:"text-ranking-foreground relative text-sm font-medium italic",children:"Virtual"})]}),"sm"===e&&(0,i.jsxs)("div",{className:"relative inline-flex h-4 w-[41px] flex-none items-center justify-center",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"41",height:"16",viewBox:"0 0 41 16",fill:"none",className:"absolute inset-0",children:[(0,i.jsx)("path",{d:"M35.0162 3.29677e-07C36.646 3.46571e-07 38.1127 0.988729 38.7241 2.49942L40.3429 6.49942C40.7324 7.46189 40.7324 8.53811 40.3429 9.50058L38.7241 13.5006C38.1127 15.0113 36.646 16 35.0162 16H5.90905C4.27933 16 2.81256 15.0113 2.20118 13.5006L0.582381 9.50058C0.19287 8.53811 0.19287 7.46189 0.582381 6.49942L2.20118 2.49943C2.81256 0.98873 4.27933 1.10567e-08 5.90905 2.79505e-08L35.0162 3.29677e-07Z",fill:"url(#".concat(o,")")}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:o,x1:"44.4344",y1:"23.3333",x2:"-13.9104",y2:"7.73489",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.117961",stopColor:"hsl(var(--ranking-primary))"}),(0,i.jsx)("stop",{offset:"0.925",stopColor:"hsl(var(--ranking-secondary))"})]})})]}),(0,i.jsx)("span",{className:"text-ranking-foreground relative text-[10px] font-medium italic leading-4",children:"Virtual"})]})]})}},60178:function(n,t,e){function i(n){var t,e=null!==(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n))&&void 0!==t?t:"",i=parseInt(e[1],16),s=parseInt(e[2],16),a=parseInt(e[3],16),o=Math.max(i,s,a),r=Math.min(i,s,a),l=o-r,c=0===o?0:l/o,u=o/255,d=0;switch(o){case r:d=0;break;case i:d=s-a+l*(s<a?6:0),d/=6*l;break;case s:d=a-i+2*l,d/=6*l;break;case a:d=i-s+4*l,d/=6*l}return{h:360*d,s:100*c,v:100*u}}function s(n){var t=n.h,e=n.s,i=n.v,s=e/100*(i/100),a=(2-e/100)*i/100;return{h:360*(t/360),s:100*(s/=a<=1?a:2-a),l:100*(a/=2)}}e.d(t,{O:function(){return a}});var a=function(n){var t=n.primaryHex,e=n.secondaryHex,a=i(t),o=a.h,r=a.s,l=o>0&&o<=80||o>120&&o<=160||o>240&&o<=320?1:-1,c=o>25&&o<210,u=s({h:o,s:r,v:a.v}),d=s(e?i(e):{h:(o+15*l+360)%360,s:Math.max(r-30,0),v:100}),f=s({h:(o+30*l+360)%360,s:Math.max(r-50,0),v:100});return{"--ranking-primary":"".concat(u.h," ").concat(u.s,"% ").concat(u.l,"%"),"--ranking-secondary":"".concat(d.h," ").concat(d.s,"% ").concat(d.l,"%"),"--ranking-highlight":"".concat(f.h," ").concat(f.s,"% ").concat(f.l,"%"),"--ranking-foreground":c?"0 0% 10%":"0 0% 96%"}}},15363:function(n,t,e){e.d(t,{I:function(){return l}});var i=e(26042),s=e(69396),a=e(64529),o=e(782),r={contestSlug:void 0,isVirtualContest:!1,isContestOngoing:!1},l=(0,a.Ue)((0,o.$e)(r,(function(n){return{setContestSlug:function(t){return n((function(n){return(0,s.Z)((0,i.Z)({},n),{contestSlug:t})}))},setIsVirtualContest:function(t){return n((function(n){return(0,s.Z)((0,i.Z)({},n),{isVirtualContest:t})}))},setIsContestOngoing:function(t){return n((function(n){return(0,s.Z)((0,i.Z)({},n),{isContestOngoing:t})}))}}})))},89210:function(n,t,e){e.d(t,{T:function(){return _n}});var i=e(85893),s=e(11163),a=e(68652),o=e(11321),r=e(67294),l=e(76831),c=e(69485),u=e(12922),d=e(26622),f=e(37605),g=e(13540),m=e(70341),v=e(68779),x=e(50576),p=e(40791),h=e(62758),C=e(134),k=e(63331),_=e(73582),y=e(4563),S=e(2013),j=e(60086),b=function(n){return"US"===n?"":"CN"===n?"https://leetcode.cn":"US"===n?"https://leetcode.com":""},L=e(36492),N=e(8276),w=e(75117),I=function(n){if(w.Lj&&"true"===new URLSearchParams(location.search).get("mockChinaIp"))return!0;return n.startsWith("(true")},O=e(89952),V=e(3386),E=function(n){return{code:n.code,lang:n.lang,contestSubmissionId:n.contest_submission,submissionId:n.id}},X=function(n){return{id:n.id}},R=e(44930),D=e(85945),T=e(48228),G=e(18471),A=e(77013),H=e(83210),B=function(n){var t=n.contestSubmissionId,e=n.onSubmitted,s=n.children,a=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,l=function(){var n=(0,D.NL)();return(0,T.D)((function(n){var t=n.contestSubmissionId,e=n.description;return(0,G.o)(N.Hv.contestSubmissionReport,{method:"post",data:JSON.stringify({description:e,submission:t}),withCredentials:!0})}),{onSettled:function(){n.invalidateQueries(["contest-submission-report-status"])}})}(),u=l.mutateAsync,d=l.isLoading,f=(0,r.useState)(!1),g=f[0],m=f[1],v=(0,r.useState)(""),x=v[0],p=v[1],h=(0,c.z)((function(){u({contestSubmissionId:t,description:x}).then((function(){m(!1),null===e||void 0===e||e()}))}));return(0,i.jsxs)(O.Vq,{open:g,onOpenChange:m,children:[(0,i.jsx)(O.hg,{asChild:!0,children:s}),(0,i.jsxs)(O.cZ,{className:"sd-sm:max-w-[500px]",children:[(0,i.jsx)(O.fK,{children:(0,i.jsx)(O.$N,{className:"text-base tracking-normal",children:a("reportCheating")})}),(0,i.jsx)(A.g,{value:x,onChange:function(n){return p(n.target.value)},placeholder:a("reportCheatingPlaceholder")}),(0,i.jsx)(O.cN,{children:(0,i.jsx)(H.z,{onClick:h,disabled:x.length<5,isLoading:d,children:a("submit")})})]})]})},q=function(n){var t=n.className;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:(0,u.yI)("animate-spin",t),children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10a1 1 0 100-2 8 8 0 118-8 1 1 0 102 0z",clipRule:"evenodd"})})},F=e(15363),P=function(n){var t,e,s,a=n.submissionId,l=n.username,u=n.lang,d=n.dataRegion,f=n.children,x=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,h=(0,F.I)((function(n){return n.contestSlug})),k=(0,r.useState)(!1),_=k[0],y=k[1],S="US"===d,j=function(n,t,e){var i=e.enabled;return(0,L.a)(["contest-submission",{submissionId:n,dataRegion:t}],(function(){return N.x1.request("".concat(b(t)).concat(N.Hv.contestSubmission(n))).then(E)}),{enabled:i})}(null!==a&&void 0!==a?a:0,d,{enabled:_&&!!a}),w=j.data,I=j.isFetching,D=function(n,t,e){var i=e.enabled;return(0,L.a)(["contest-submission-report-status",{contestSubmissionId:n,dataRegion:t}],(function(){return N.x1.request("".concat(b(t)).concat(N.Hv.contestSubmissionReportStatus(n))).then(X)}),{enabled:i})}(null!==(t=null===w||void 0===w?void 0:w.contestSubmissionId)&&void 0!==t?t:0,d,{enabled:_&&S&&!!(null===w||void 0===w?void 0:w.contestSubmissionId)}),T=D.data,G=(null===T||void 0===T?void 0:T.id)&&-1!==(null===T||void 0===T?void 0:T.id),A=null!==(e=R.O[u])&&void 0!==e?e:u,H=(0,F.I)(),P=H.isContestOngoing,Z=H.isVirtualContest,M=(0,c.z)((function(n){y(n),n&&g.e.contestRankingPunishInfoClick({contest_is_virtual:String(Z),contest_is_ongoing:String(P)})})),U=(0,c.z)((function(){g.e.contestRankingReportClick({contest_is_virtual:String(Z),contest_is_ongoing:String(P)})}));return a?(0,i.jsxs)(O.Vq,{open:_,onOpenChange:M,children:[(0,i.jsx)(O.hg,{asChild:!0,children:f}),(0,i.jsxs)(O.cZ,{className:"sd-sm:max-w-[700px]",children:[(0,i.jsx)(O.fK,{children:(0,i.jsxs)(O.$N,{className:"flex items-center gap-2 text-base tracking-normal",children:[(0,i.jsx)("div",{className:"text-text-primary font-semibold",children:x("code")}),(0,i.jsx)("div",{className:"bg-border-tertiary h-3.5 w-px rounded-full"}),(0,i.jsx)("div",{className:"text-text-secondary font-normal",children:A}),(0,i.jsx)("div",{className:"bg-border-tertiary h-3.5 w-px rounded-full"}),(0,i.jsx)("div",{className:"text-text-secondary font-normal",children:l})]})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col gap-4 overflow-hidden",children:[(0,i.jsx)("div",{className:"bg-fill-quaternary max-h-[400px] w-full overflow-hidden rounded-lg",children:!I&&w?(0,i.jsx)(V.B,{lang:u,code:w.code,showCopyIcon:!0,className:"h-full w-full !p-4",actionButtonsClassName:"right-1 top-1",wrapperClassName:"h-full w-full"}):(0,i.jsx)("div",{className:"text-sd-muted-foreground flex h-[400px] w-full items-center justify-center",children:(0,i.jsx)(q,{})})}),!T&&(S?(0,i.jsx)("div",{className:"h-4"}):(0,i.jsxs)(p.r,{href:"".concat(b(d)).concat(m.Hb.contestRanking(h)),isExternal:!0,className:"text-sd-blue-600 hover:text-sd-blue-600 flex h-4 items-center gap-1 text-xs",children:[(0,i.jsx)("div",{children:x("reportCheatingOtherRegion")}),(0,i.jsx)(C.e,{variant:"12px",padding:"none",icon:v.wlW})]})),T&&(G?(0,i.jsx)("div",{className:"text-sd-muted-foreground text-xs",children:x("reportCheatingSubmitted")}):(0,i.jsx)(B,{contestSubmissionId:null!==(s=null===w||void 0===w?void 0:w.contestSubmissionId)&&void 0!==s?s:0,onSubmitted:U,children:(0,i.jsx)("div",{className:"text-sd-blue-600 cursor-pointer text-xs",children:x("reportCheating")})}))]})]})]}):(0,i.jsx)(i.Fragment,{children:f})},Z=e(45065),M=e(47816),U=e(60299),z={cpp:"C++",java:"Java",python:"Python",python3:"Python",c:"C",csharp:"C#",javascript:"JavaScript",ruby:"Ruby",swift:"Swift",golang:"Go",scala:"Scala",html:"HTML",kotlin:"Kotlin",rust:"Rust",php:"PHP",typescript:"TypeScript",erlang:"Erlang",elixir:"Elixir",dart:"Dart"},Q=function(){return(0,i.jsxs)("svg",{className:"h-3.5 w-3.5",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1569 9.87384L10.6886 7.13697C10.8106 6.51812 10.706 6.05617 10.3923 5.76853C10.0872 5.48962 9.56423 5.35016 8.79721 5.35016H7.87329L8.13478 3.99044C8.14349 3.93814 8.13478 3.88584 8.09991 3.84226C8.06505 3.79868 8.02147 3.78125 7.96917 3.78125H6.69661C6.60945 3.78125 6.53972 3.84226 6.52229 3.92071L5.95574 6.82319C5.90344 6.49197 5.78142 6.21306 5.57223 5.98644C5.19743 5.55935 4.61345 5.34144 3.82028 5.34144H1.37104C1.28388 5.34144 1.21415 5.40246 1.19672 5.4809L0.0549016 11.373C0.0461854 11.4253 0.0549016 11.4776 0.0897662 11.5212C0.124631 11.5648 0.168212 11.5822 0.220509 11.5822H1.50178C1.58895 11.5822 1.65867 11.5212 1.67611 11.4428L1.95502 10.022H2.90508C3.40191 10.022 3.829 9.96972 4.15149 9.86513C4.49143 9.75182 4.79649 9.56878 5.06669 9.31601C5.2846 9.11554 5.46763 8.88892 5.60709 8.64487L5.38047 9.82155C5.37176 9.87384 5.38047 9.92614 5.41534 9.96972C5.4502 10.0133 5.49378 10.0307 5.54608 10.0307H6.81864C6.9058 10.0307 6.97553 9.96972 6.99296 9.89128L7.62053 6.6663H8.49214C8.86694 6.6663 8.97153 6.73603 9.00639 6.77089C9.03254 6.79704 9.08484 6.90163 9.02383 7.22413L8.51829 9.83026C8.50957 9.88256 8.51829 9.93486 8.55315 9.97844C8.58802 10.022 8.6316 10.0395 8.6839 10.0395H9.99132C10.0698 10.0133 10.1395 9.95229 10.1569 9.87384ZM4.2652 7.60635C4.18675 8.01601 4.03858 8.31236 3.82067 8.47796C3.60277 8.64357 3.24541 8.73073 2.77473 8.73073H2.20818L2.61784 6.62142H3.35C3.8904 6.62142 4.10831 6.73473 4.19547 6.83061C4.30878 6.97007 4.33493 7.24027 4.2652 7.60635Z",fill:"#A8A8A8"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5955 5.98386C15.2207 5.55677 14.6367 5.33887 13.8436 5.33887H11.3769C11.2897 5.33887 11.22 5.39988 11.2026 5.47833L10.0608 11.3617C10.052 11.414 10.0608 11.4663 10.0956 11.5099C10.1305 11.5535 10.1741 11.5709 10.2264 11.5709H11.5076C11.5948 11.5709 11.6645 11.5099 11.682 11.4315L11.9609 10.0107H12.9109C13.4078 10.0107 13.8349 9.95843 14.1574 9.85384C14.4973 9.74053 14.8024 9.55749 15.0726 9.30472C15.2992 9.09553 15.4909 8.86019 15.6304 8.60743C15.7698 8.35466 15.8744 8.07574 15.9355 7.77067C16.0836 7.01237 15.9703 6.41967 15.5955 5.98386ZM14.2615 7.60522C14.183 8.01488 14.0349 8.31123 13.817 8.47683C13.5991 8.64244 13.2417 8.7296 12.771 8.7296H12.2045L12.6141 6.62029H13.3463C13.8867 6.62029 14.1046 6.7336 14.1918 6.82948C14.3138 6.96894 14.3399 7.23914 14.2615 7.60522Z",fill:"#A8A8A8"})]})},$=function(){return(0,i.jsxs)("svg",{className:"h-3.5 w-3.5",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("g",{clipPath:"url(#clip0_1405_42209)",children:(0,i.jsx)("path",{d:"M16.0896 7.80372L15.4179 7.38792C15.4123 7.32249 15.4058 7.25722 15.3988 7.19225L15.976 6.65385C16.0347 6.59912 16.061 6.51811 16.0451 6.43968C16.0297 6.36096 15.9745 6.29614 15.8994 6.26817L15.1616 5.99224C15.1431 5.92834 15.1236 5.8649 15.1038 5.80177L15.5641 5.16248C15.611 5.09751 15.6206 5.01298 15.59 4.93883C15.5595 4.865 15.4927 4.81211 15.4136 4.79911L14.6355 4.67254C14.6053 4.61353 14.5738 4.55544 14.542 4.49781L14.869 3.7801C14.9024 3.70703 14.8956 3.62204 14.8509 3.55569C14.8064 3.48904 14.7311 3.45006 14.6507 3.45312L13.861 3.48063C13.8201 3.42958 13.7786 3.37898 13.7362 3.3293L13.9177 2.56007C13.936 2.48195 13.9129 2.40017 13.8561 2.34345C13.7997 2.28689 13.7177 2.2635 13.6396 2.28185L12.8705 2.46315C12.8207 2.42096 12.7701 2.37923 12.7189 2.33841L12.7466 1.5487C12.7496 1.46875 12.7106 1.39277 12.644 1.34844C12.5772 1.3038 12.4926 1.29708 12.4197 1.33025L11.7022 1.65739C11.6442 1.62559 11.5861 1.5941 11.5274 1.56368L11.4006 0.785432C11.3877 0.706552 11.3348 0.639596 11.2608 0.609023C11.187 0.578297 11.1023 0.588233 11.0374 0.63501L10.3976 1.09529C10.3346 1.07527 10.2713 1.05601 10.2074 1.03766L9.93151 0.29962C9.90354 0.224409 9.83872 0.169224 9.75999 0.153632C9.68142 0.138192 9.60055 0.164332 9.54598 0.222728L9.00758 0.800413C8.94261 0.793228 8.87718 0.786655 8.81191 0.781304L8.39611 0.109453C8.35407 0.041427 8.27963 0 8.19952 0C8.11942 0 8.04498 0.041427 8.00309 0.109453L7.58729 0.781304C7.52186 0.786655 7.45644 0.793228 7.39147 0.800413L6.85292 0.222728C6.79834 0.164332 6.71732 0.138192 6.6389 0.153632C6.56018 0.169377 6.49536 0.224409 6.46739 0.29962L6.19146 1.03766C6.12756 1.05601 6.06428 1.07542 6.00114 1.09529L5.36155 0.63501C5.29658 0.58808 5.21189 0.578144 5.1379 0.609023C5.06406 0.639596 5.01102 0.706552 4.99818 0.785432L4.8713 1.56368C4.8126 1.5941 4.75451 1.62544 4.69657 1.65739L3.97901 1.33025C3.9061 1.29693 3.8211 1.3038 3.75476 1.34844C3.68811 1.39277 3.64913 1.46875 3.65218 1.5487L3.6797 2.33841C3.62864 2.37923 3.57804 2.42096 3.52806 2.46315L2.75898 2.28185C2.68087 2.26366 2.59893 2.28689 2.54237 2.34345C2.4855 2.40017 2.46242 2.48195 2.48076 2.56007L2.66191 3.3293C2.61987 3.37913 2.57829 3.42958 2.53748 3.48063L1.74776 3.45312C1.66812 3.45082 1.59199 3.48904 1.54751 3.55569C1.50287 3.62204 1.49614 3.70703 1.52932 3.7801L1.85645 4.49781C1.82466 4.55544 1.79317 4.61353 1.76274 4.67254L0.984651 4.79911C0.905618 4.81195 0.838968 4.86485 0.808242 4.93883C0.777668 5.01298 0.787605 5.09751 0.834229 5.16248L1.29451 5.80177C1.27449 5.8649 1.25507 5.92834 1.23673 5.99224L0.498686 6.26817C0.423781 6.29614 0.368596 6.36096 0.353003 6.43968C0.337411 6.51826 0.363551 6.59912 0.422099 6.65385L0.999479 7.19225C0.992294 7.25722 0.985873 7.32265 0.98037 7.38792L0.308672 7.80372C0.240646 7.84576 0.199219 7.92005 0.199219 8.00031C0.199219 8.08056 0.240646 8.15485 0.308672 8.19674L0.98037 8.61254C0.985873 8.67797 0.992294 8.74324 0.999479 8.80821L0.422099 9.34676C0.363551 9.40133 0.337411 9.48235 0.353003 9.56077C0.368596 9.6395 0.423781 9.70416 0.498686 9.73229L1.23673 10.0082C1.25507 10.0721 1.27449 10.1356 1.29451 10.1987L0.834229 10.8381C0.787452 10.9033 0.777515 10.9878 0.808242 11.0616C0.838968 11.1358 0.905771 11.1887 0.984803 11.2013L1.76274 11.3279C1.79317 11.3869 1.82435 11.445 1.85645 11.503L1.52932 12.2204C1.49599 12.2933 1.50287 12.3781 1.54751 12.4448C1.59214 12.5116 1.66812 12.5506 1.74776 12.5473L2.53717 12.5197C2.57829 12.571 2.61972 12.6213 2.66191 12.6713L2.48076 13.4407C2.46242 13.5187 2.4855 13.6001 2.54237 13.6569C2.59878 13.7139 2.68087 13.7366 2.75898 13.7183L3.52806 13.5372C3.57804 13.5797 3.62864 13.6209 3.6797 13.6616L3.65218 14.4515C3.64913 14.5314 3.68811 14.6072 3.75476 14.6519C3.8211 14.6963 3.9061 14.7031 3.97901 14.6698L4.69657 14.3428C4.75436 14.3749 4.81245 14.4061 4.8713 14.4365L4.99818 15.2143C5.01102 15.2934 5.06391 15.3604 5.1379 15.3908C5.21173 15.4216 5.29658 15.4116 5.36155 15.365L6.00084 14.9044C6.06397 14.9244 6.12741 14.944 6.19131 14.9623L6.46723 15.7001C6.49521 15.775 6.56002 15.8305 6.63875 15.8458C6.71732 15.8617 6.79819 15.8354 6.85276 15.7767L7.39132 15.1993C7.45628 15.2068 7.52171 15.213 7.58714 15.2188L8.00294 15.8905C8.04482 15.9583 8.11927 16 8.19937 16C8.27947 16 8.35392 15.9584 8.39596 15.8905L8.81176 15.2188C8.87718 15.213 8.94246 15.2068 9.00743 15.1993L9.54583 15.7767C9.6004 15.8354 9.68142 15.8617 9.75984 15.8458C9.83857 15.8303 9.90338 15.775 9.93136 15.7001L10.2073 14.9623C10.2712 14.944 10.3346 14.9244 10.3978 14.9044L11.0372 15.365C11.1022 15.4116 11.1869 15.4216 11.2607 15.3908C11.3347 15.3604 11.3876 15.2933 11.4004 15.2143L11.5273 14.4365C11.586 14.4061 11.6441 14.3744 11.702 14.3428L12.4196 14.6698C12.4925 14.7031 12.5773 14.6963 12.6438 14.6519C12.7105 14.6072 12.7493 14.5316 12.7464 14.4515L12.7189 13.6616C12.7699 13.6208 12.8205 13.5797 12.8704 13.5372L13.6395 13.7183C13.7176 13.7366 13.7995 13.7139 13.8559 13.6569C13.9128 13.6001 13.9359 13.5187 13.9175 13.4407L13.7364 12.6713C13.7786 12.6213 13.8201 12.571 13.8608 12.5197L14.6505 12.5473C14.7302 12.5506 14.8063 12.5116 14.8508 12.4448C14.8954 12.3781 14.9023 12.2933 14.8688 12.2204L14.5418 11.503C14.5738 11.445 14.6051 11.3869 14.6354 11.3279L15.4135 11.2013C15.4927 11.1887 15.5593 11.1358 15.5899 11.0616C15.6205 10.9878 15.6108 10.9033 15.5639 10.8381L15.1036 10.1987C15.1235 10.1356 15.1429 10.0721 15.1614 10.0082L15.8993 9.73229C15.9744 9.70416 16.0297 9.6395 16.045 9.56077C16.0609 9.4822 16.0346 9.40133 15.9759 9.34676L15.3987 8.80821C15.4057 8.74324 15.4121 8.67781 15.4178 8.61254L16.0895 8.19674C16.1575 8.15485 16.1989 8.08041 16.1989 8.00031C16.1989 7.9202 16.1576 7.84576 16.0896 7.80372ZM11.5939 13.3759C11.3374 13.3205 11.1743 13.0677 11.2294 12.8104C11.2842 12.5535 11.5369 12.3899 11.7933 12.4452C12.0498 12.5001 12.2132 12.7534 12.1582 13.0102C12.1031 13.267 11.8503 13.4308 11.5939 13.3759ZM11.3657 11.8322C11.1317 11.7821 10.9015 11.931 10.8513 12.1655L10.6128 13.2784C9.87694 13.6124 9.05971 13.7979 8.19907 13.7979C7.3187 13.7979 6.48374 13.6032 5.73469 13.255L5.49637 12.1421C5.44623 11.9079 5.21602 11.7587 4.98213 11.809L3.99965 12.0199C3.81728 11.8322 3.6476 11.6323 3.49167 11.4212H8.27214C8.32625 11.4212 8.36233 11.4114 8.36233 11.3622V9.67115C8.36233 9.62192 8.32625 9.61214 8.27214 9.61214H6.87401V8.54023H8.38618C8.52421 8.54023 9.12422 8.57967 9.31607 9.34661C9.37614 9.58248 9.50807 10.3497 9.59826 10.5954C9.68815 10.8708 10.0541 11.4212 10.4441 11.4212H12.8262C12.8533 11.4212 12.8822 11.4181 12.9126 11.4126C12.7473 11.6372 12.566 11.8497 12.3708 12.0482L11.3657 11.8322ZM4.7539 13.3526C4.49739 13.408 4.24485 13.2444 4.18966 12.9874C4.13479 12.73 4.29789 12.4773 4.55441 12.422C4.81092 12.3671 5.06361 12.5307 5.11864 12.7876C5.17352 13.0445 5.01026 13.2976 4.7539 13.3526ZM2.94043 5.99897C3.04683 6.23912 2.9386 6.52055 2.69875 6.62679C2.4589 6.73334 2.17824 6.62496 2.07184 6.38465C1.96545 6.14435 2.07368 5.86338 2.31353 5.75683C2.55353 5.65043 2.83404 5.75866 2.94043 5.99897ZM2.38308 7.3202L3.40653 6.86542C3.62513 6.76835 3.72388 6.51214 3.62681 6.29308L3.416 5.81644H4.245V9.55313H2.57248C2.42741 9.04317 2.3496 8.50492 2.3496 7.94864C2.3496 7.7363 2.36107 7.52642 2.38308 7.3202ZM6.87432 6.95729V5.85588H8.84845C8.95041 5.85588 9.56845 5.97375 9.56845 6.43586C9.56845 6.81956 9.09441 6.95714 8.7046 6.95714H6.87432V6.95729ZM14.0487 7.94864C14.0487 8.09478 14.0433 8.23939 14.0326 8.38293H13.4325C13.3724 8.38293 13.3482 8.42237 13.3482 8.48123V8.75685C13.3482 9.40561 12.9824 9.54671 12.6619 9.58263C12.3566 9.61703 12.0181 9.45484 11.9764 9.26803C11.7963 8.25514 11.4963 8.03883 11.0224 7.66507C11.6105 7.29161 12.2224 6.74068 12.2224 6.00325C12.2224 5.20696 11.6765 4.70541 11.3044 4.45944C10.7824 4.11534 10.2044 4.0464 10.0485 4.0464H3.84159C4.68327 3.10703 5.82397 2.4416 7.11417 2.19945L7.84579 2.967C8.01119 3.1402 8.28513 3.14662 8.45818 2.98106L9.27678 2.19808C10.9921 2.51742 12.4443 3.58519 13.2813 5.05012L12.7209 6.31586C12.6241 6.53492 12.7229 6.79113 12.9413 6.8882L14.0203 7.36744C14.0389 7.55898 14.0487 7.75251 14.0487 7.94864ZM7.8461 1.54656C8.03565 1.36495 8.33634 1.37214 8.51779 1.562C8.69894 1.75232 8.69206 2.05331 8.50205 2.23477C8.31249 2.41637 8.0118 2.40934 7.83035 2.21917C7.64936 2.02916 7.65623 1.72816 7.8461 1.54656ZM13.4074 6.02205C13.5136 5.7819 13.7943 5.67351 14.0342 5.78006C14.274 5.88646 14.3822 6.16773 14.2758 6.40789C14.1696 6.6482 13.8889 6.75658 13.6489 6.65003C13.4094 6.54363 13.3012 6.26251 13.4074 6.02205Z",fill:"#A8A8A8"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1405_42209",children:(0,i.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(0.199219)"})})})]})},W=function(n,t){return new Date(1e3*(n-t)).toISOString().substring(11,19)},Y=function(n){var t=n.children,e=n.className;return(0,i.jsx)("div",{className:(0,u.yI)("flex h-[50px] flex-[1_0_0] items-center self-stretch p-4",e),children:t})},K=function(n){var t=n.children;return(0,i.jsx)(Y,{className:"relative min-w-[170px] overflow-hidden p-0",children:(0,i.jsx)("div",{className:"absolute flex w-full min-w-[170px] items-center gap-4 overflow-hidden px-4",children:t})})},J=function(n){var t=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,L.a)(["isChinaIp",{}],(function(){return N.x1.rawRequest(N.Hv.isChinaIp).then((function(n){return n.text()})).then(I)}),{staleTime:1/0,enabled:n})}(n.enabled),e=t.data;return void 0===e||e},nn=function(n){var t=n.region,e=n.countryCode,s=(0,y.ED)();if(J({enabled:!s})&&!s&&"TW"===e)return null;var a="CN"===t?(0,S.bK)("CN"):(0,S.bK)(e);return a?(0,i.jsx)("div",{className:"text-sd-foreground flex-none text-sm",children:a}):null},tn=function(n){var t,e,s=n.rankingData,a=n.isSelf,r=n.rankingRegion,l=n.isDetail,d=n.isVirtual,f=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,v=a?M.no.YOU:null!==(e=[M.no.FIRST,M.no.SECOND,M.no.THIRD][null!==(t=null===s||void 0===s?void 0:s.rank)&&void 0!==t?t:-1])&&void 0!==e?e:M.no.OTHERS,x=!!s&&r===j.BS.GLOBAL&&("CN"===(null===s||void 0===s?void 0:s.region)||!!(null===s||void 0===s?void 0:s.countryCode)),C=(0,F.I)(),k=C.isContestOngoing,_=C.isVirtualContest,y=(0,c.z)((function(){g.e.contestRankingUserClick({contest_is_virtual:String(_),contest_is_ongoing:String(k),contest_component_location:l?"detail":"qd"})}));return(0,i.jsx)(Y,{className:"relative min-w-[170px] overflow-hidden p-0",children:(0,i.jsx)("div",{className:"absolute flex w-full min-w-[170px] items-center gap-4 overflow-hidden px-4",children:s?(0,i.jsxs)(p.r,{className:"flex items-center gap-4 overflow-hidden",href:"".concat(b(s.region)).concat(m.Hb.profile(s.userStatus.userSlug)),onClick:y,children:[(0,i.jsx)(M.qE,{src:s.userStatus.avatar,username:s.userStatus.username,type:v}),(0,i.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,i.jsx)("div",{className:(0,u.yI)("truncate",{"text-sd-brand-lc-orange":"legendary"===s.userStatus.color}),children:a?f("you"):s.userStatus.username}),s.userStatus.badge&&(0,i.jsx)(h.u,{className:"z-modal-3",label:s.userStatus.badge.name,placement:"top",children:(0,i.jsx)("img",{src:s.userStatus.badge.icon,alt:s.userStatus.badge.name,className:"h-3.5 w-3.5 flex-none"})}),x&&(0,i.jsx)(nn,{region:s.region,countryCode:s.countryCode}),d&&a&&(0,i.jsx)(U.Wu,{size:"sm"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex h-[34px] w-[34px] items-center justify-center",children:(0,i.jsx)("div",{className:"bg-fill-quaternary h-[4px] w-[20px] rounded-full"})}),(0,i.jsx)("div",{className:"bg-fill-quaternary h-[4px] w-[100px] rounded-full"})]})})})},en=function(n){var t=n.children;return(0,i.jsx)(Y,{className:"min-w-[60px] max-w-[100px]",children:t})},sn=function(n){var t=n.score,e=n.isDetail,s=n.className;return(0,i.jsxs)(Y,{className:(0,u.yI)("min-w-[60px] max-w-[100px]",s),children:[void 0!==t&&(e?t:"".concat(t," pt.")),void 0===t&&(0,i.jsx)("div",{className:"bg-fill-quaternary h-[4px] w-[40px] rounded-full"})]})},an=function(n){var t=n.children,e=n.className;return(0,i.jsx)(Y,{className:(0,u.yI)("min-w-[130px] max-w-[140px]",e),children:t})},on=function(n){var t=n.finishTime,e=n.startTime,s=n.className;return(0,i.jsx)(Y,{className:(0,u.yI)("min-w-[130px] max-w-[140px]",s),children:void 0!==t&&void 0!==e?W(t,e):(0,i.jsx)("div",{className:"bg-fill-quaternary h-[4px] w-[80px] rounded-full"})})},rn=function(n){var t=n.children;return(0,i.jsx)(Y,{className:"min-w-[180px] p-2",children:(0,i.jsx)("div",{className:"flex h-full w-full items-center gap-2 rounded-md px-2",children:t})})},ln=function(n){var t,e=n.submission,s=n.username,a=n.dataRegion,r=n.startTime,l=n.isSelf,d=n.className,f=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,m=z[null!==(t=null===e||void 0===e?void 0:e.lang)&&void 0!==t?t:""],x=(0,i.jsx)(Z.n,{active:!!e});if(e&&(null===e||void 0===e?void 0:e.submissionId))switch(m){case void 0:x=(0,i.jsx)(C.e,{variant:"14px",padding:"none",icon:v.w49,className:"text-sd-blue-500"});break;case"Rust":x=(0,i.jsx)($,{});break;case"PHP":x=(0,i.jsx)(Q,{});break;default:x=(0,i.jsx)(k.J,{lang:m,size:14,style:{display:"block"}})}var p,y,S=(0,F.I)(),j=S.isContestOngoing,b=S.isVirtualContest,L=(0,c.z)((function(n){n&&g.e.contestRankingPunishInfoClick({contest_is_virtual:String(b),contest_is_ongoing:String(j)})}));return(0,i.jsx)(Y,{className:(0,u.yI)("min-w-[180px] p-2",d),children:(0,i.jsx)(P,{username:null!==s&&void 0!==s?s:"",lang:null!==(p=null===e||void 0===e?void 0:e.lang)&&void 0!==p?p:"",submissionId:null===e||void 0===e?void 0:e.submissionId,dataRegion:null!==a&&void 0!==a?a:"",children:(0,i.jsxs)("div",{className:(0,u.yI)("flex h-full w-full items-center gap-2 rounded-md px-2",{"bg-fill-tertiary":(null!==(y=null===e||void 0===e?void 0:e.failCount)&&void 0!==y?y:0)>0,"cursor-pointer":!!(null===e||void 0===e?void 0:e.submissionId),"ranking-guide-anchor":!!(null===e||void 0===e?void 0:e.submissionId)&&!l}),children:[x,e&&!!r&&(0,i.jsx)("div",{children:W(e.date,r)}),!!(null===e||void 0===e?void 0:e.failCount)&&(0,i.jsx)(h.u,{label:"".concat(null===e||void 0===e?void 0:e.failCount).concat(f("bugTipSuffix")),placement:"top",onOpenChange:L,children:(0,i.jsxs)("div",{className:"text-sd-red-400 flex items-center",children:[(0,i.jsx)(C.e,{variant:"12px",padding:"square",icon:_.QLU}),(0,i.jsxs)("div",{children:[5*(null===e||void 0===e?void 0:e.failCount),"min"]})]})})]})})})},cn=function(n){var t=n.rankingData,e=n.contestData,s=n.className;return(0,i.jsx)(Y,{className:(0,u.yI)("w-[120px] flex-none gap-1 p-0 px-4",s),children:e.questions.map((function(n){return(0,i.jsx)(Z.n,{active:!!(null===t||void 0===t?void 0:t.submissions[n.questionId])},n.questionId)}))})},un=function(n){var t=n.children,e=n.className;return(0,i.jsx)("div",{className:(0,u.yI)("even:bg-fill-quaternary flex h-[50px] min-w-[fit-content] items-start rounded-r-lg",e),children:t})},dn=function(n){var t=n.questions,e=n.contestSlug,s=n.className,a=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,r=(0,F.I)(),l=r.isContestOngoing,u=r.isVirtualContest,d=(0,c.z)((function(){g.e.contestRankingQuestionClick({contest_is_virtual:String(u),contest_is_ongoing:String(l)})})),f=(0,c.z)((function(n){n&&g.e.contestRankingTimeInfoClick({contest_is_virtual:String(u),contest_is_ongoing:String(l)})}));return(0,i.jsxs)(un,{className:s,children:[(0,i.jsx)(K,{children:a("name")}),(0,i.jsx)(en,{children:a("score")}),(0,i.jsxs)(an,{className:"flex items-center gap-0.5",children:[(0,i.jsx)("div",{children:a("finishTime")}),(0,i.jsx)(h.u,{className:"max-w-[240px]",label:a("finishTimeTip"),onOpenChange:f,children:(0,i.jsx)("div",{children:(0,i.jsx)(C.e,{variant:"12px",padding:"square",icon:v.sqG})})})]}),t.map((function(n,t){return(0,i.jsx)(rn,{children:(0,i.jsxs)(p.r,{href:m.Hb.contestQuestion(e,n.titleSlug),isExternal:!0,onClick:d,children:[a("questionPrefix"),t+1," (",n.credit,")"]})},n.id)}))]})},fn=function(n){var t=n.rankingData,e=n.contestData,s=n.isSelf,a=n.isDetail,o=n.rankingRegion,r=s||!e.isVirtual?null===e||void 0===e?void 0:e.startTime:null===e||void 0===e?void 0:e.originStartTime;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tn,{rankingData:t,isSelf:s,rankingRegion:o,isDetail:a,isVirtual:e.isVirtual}),(0,i.jsx)(sn,{score:null===t||void 0===t?void 0:t.score,isDetail:a,className:(0,u.yI)({"w-[80px] min-w-[none] max-w-[none] flex-none":!a})}),(0,i.jsx)(on,{finishTime:null===t||void 0===t?void 0:t.finishTime,startTime:r,className:(0,u.yI)({"w-[100px] min-w-[none] max-w-[none] flex-none":!a})}),a?null===e||void 0===e?void 0:e.questions.map((function(n){return(0,i.jsx)(ln,{username:null===t||void 0===t?void 0:t.userStatus.username,submission:null===t||void 0===t?void 0:t.submissions[n.questionId],dataRegion:null===t||void 0===t?void 0:t.region,startTime:r,isSelf:s},n.questionId)})):(0,i.jsx)(cn,{rankingData:t,contestData:e})]})},gn=function(n){var t=n.rankingData,e=n.contestData,s=n.className,o=n.isSelf,l=n.index,c=n.isDetail,d=n.isContestOngoing,f=n.rankingRegion,g=(0,r.useState)(!1),m=g[0],v=g[1],p=(0,r.useState)(t),h=p[0],C=p[1],k=30*l;return(0,r.useEffect)((function(){(0,x.Z)(t,h)||(d?(v(!0),setTimeout((function(){v(!1),C((0,a.Z)(t))}),500+k)):C((0,a.Z)(t)))}),[t]),(0,i.jsx)(un,{className:(0,u.yI)("overflow-hidden",{"from-ranking-primary/0 to-ranking-secondary/20 relative bg-gradient-to-b":o},s),children:(0,i.jsx)("div",{className:(0,u.yI)("flex h-[50px] w-full min-w-[fit-content] items-start","transition-all duration-500 ease-out",{"translate-y-[50px] opacity-0":m}),style:{transitionDelay:m?"".concat(k,"ms"):""},children:(0,i.jsx)(fn,{rankingData:h,contestData:e,isSelf:o,isDetail:c,rankingRegion:f})})})},mn=e(93002),vn=function(n){var t=n.className;return(0,i.jsx)("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:(0,i.jsx)("path",{d:"M5.26562 0.734375L8.26562 3.73438C8.47656 3.94531 8.54688 4.27344 8.42969 4.55469C8.3125 4.83594 8.03125 5.02344 7.75 5.02344H1.75C1.44531 5.02344 1.16406 4.83594 1.04688 4.55469C0.929688 4.27344 1 3.94531 1.21094 3.73438L4.21094 0.734375C4.49219 0.429688 4.98438 0.429688 5.26562 0.734375Z",fill:"currentColor"})})},xn=function(n){var t=n.children,e=n.className;return(0,i.jsx)("div",{className:(0,u.yI)("text-text-secondary flex h-[50px] w-[94px] flex-none items-center p-4 pl-7 font-medium",e),children:t})},pn=function(n){var t=n.rankingData,e=n.className,s=n.isSelf,o=n.index,l=n.isContestOngoing,c=(0,r.useState)(!1),d=c[0],f=c[1],g=(0,r.useState)(t),m=g[0],v=g[1],p=30*o;return(0,r.useEffect)((function(){(0,x.Z)(t,m)||(l?(f(!0),setTimeout((function(){f(!1),v((0,a.Z)(t))}),500+p)):v((0,a.Z)(t)))}),[t]),(0,i.jsx)("div",{className:(0,u.yI)("even:bg-fill-quaternary text-text-primary flex h-[50px] w-[94px] flex-none gap-2 overflow-hidden rounded-l-lg font-medium",{"from-ranking-primary/0 to-ranking-secondary/20 relative bg-gradient-to-b":s},e),children:(0,i.jsx)("div",{className:(0,u.yI)("flex h-[50px] w-full items-center gap-2 p-4 pl-3 pr-5","transition-all duration-500 ease-out",{"translate-y-[50px] opacity-0":d}),style:{transitionDelay:d?"".concat(p,"ms"):""},children:m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-2",children:m.up&&(0,i.jsx)(vn,{className:"text-sd-timer-green w-full"})}),(0,i.jsx)("div",{className:(0,u.yI)({"bg-[linear-gradient(180deg,hsl(var(--ranking-secondary))_7.5%,hsl(var(--ranking-primary))_84%)] bg-clip-text font-bold text-transparent":m.rank<=2}),children:m.rank+1})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-2"}),(0,i.jsx)("div",{className:"bg-fill-quaternary h-[4px] w-[20px] rounded-full"})]})})})},hn=function(n){var t=n.rankingsData,e=n.contestData,s=n.myRanking,a=n.isDetail,r=n.page,l=n.isContestOngoing,c=n.hideBody,d=n.rankingRegion,f=n.ongoingStatus,g=n.myRankingIndex,m=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t;return(0,i.jsxs)("div",{className:"flex w-[94px] flex-none flex-col",children:[a&&(0,i.jsxs)(xn,{className:(0,u.yI)("flex items-center gap-0.5",{"opacity-0":!e.questions.length}),children:[(0,i.jsx)("div",{children:m("rank")}),(0,i.jsx)(mn.Q,{contestData:e,ongoingStatus:f,children:(0,i.jsx)(C.e,{variant:"12px",padding:"square",icon:v.sqG})})]}),a&&!!s&&(0,i.jsx)(pn,{rankingData:s,isSelf:!0,index:0,isContestOngoing:l,className:(0,u.yI)("transition-opacity",{"opacity-0":c})}),t.map((function(n,t){return(0,i.jsx)(pn,{rankingData:n,isSelf:!a&&t===g,index:t,isContestOngoing:l,className:(0,u.yI)("transition-opacity",{"opacity-0":c})},"".concat(d,"-").concat(r,"-").concat(t))}))]})},Cn=e(68708),kn=function(n){var t=n.animate,e=n.width,s=n.height,a=n.strokeWidth,o=void 0===a?1:a,l=(0,r.useState)((0,Cn.Yu)())[0],c=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n,e;t?null===(n=c.current)||void 0===n||n.beginElement():null===(e=c.current)||void 0===e||e.endElement()}),[t]),(0,i.jsxs)("svg",{width:e,height:s,viewBox:"0 0 ".concat(e," ").concat(s),xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"stroke-".concat(l),x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"rotate(-45, 0.5, 0.5)",children:[(0,i.jsx)("animateTransform",{ref:c,attributeName:"gradientTransform",type:"rotate",from:"-45 0.5 0.5",to:"135 0.5 0.5",dur:"4s",repeatCount:"indefinite",begin:"indefinite"}),(0,i.jsx)("stop",{offset:"0.0",stopColor:"hsl(var(--ranking-primary))",stopOpacity:"0"}),(0,i.jsx)("stop",{offset:"0.25",stopColor:"hsl(var(--ranking-primary))"}),(0,i.jsx)("stop",{offset:"0.5",stopColor:"hsl(var(--ranking-highlight))"}),(0,i.jsx)("stop",{offset:"0.75",stopColor:"hsl(var(--ranking-primary))"}),(0,i.jsx)("stop",{offset:"1.0",stopColor:"hsl(var(--ranking-primary))",stopOpacity:"0"})]})}),(0,i.jsx)("rect",{width:"".concat(Math.max(e-o,0)),height:"".concat(Math.max(s-o,0)),x:"".concat(o/2),y:"".concat(o/2),rx:"5",ry:"5",strokeWidth:"".concat(o),stroke:"url(#".concat("stroke-".concat(l),")"),fill:"none"})]})},_n=function(n){var t,e,v=n.contestSlug,x=n.contestInfo,p=n.rankingInfo,h=n.myRankingInfo,C=n.ongoingStatus,k=n.rankingRegion,_=n.isDetail,y=n.className,S=n.controlledPage,j=n.setControlledPage,b=(0,s.useRouter)(),L=(0,o.$G)("contest",{keyPrefix:"rankingPage"}).t,N=(0,r.useState)(null),w=N[0],I=N[1],O=(0,l.a)(w),V=O.width,E=O.height,X=(0,r.useState)(1),R=X[0],D=X[1],T=null!==S&&void 0!==S?S:R,G=null!==j&&void 0!==j?j:D,A=C===f.H.NOT_START,H=C===f.H.STARTED,B=!!(null===x||void 0===x?void 0:x.isVirtual),F=(0,r.useMemo)((function(){var n=[];if(H&&!B){var t,e,i=25*(T-1);n=null!==(e=null===p||void 0===p||null===(t=p.rankings)||void 0===t?void 0:t.slice(i,i+25))&&void 0!==e?e:[]}else{var s;n=null!==(s=null===p||void 0===p?void 0:p.rankings)&&void 0!==s?s:[]}var o=(n=(0,a.Z)(n)).length;return n.length=25,n.fill(void 0,o),n}),[H,p,T,B]),P=A||!p||!p.rankings.length,Z=null===h||void 0===h?void 0:h.userStatus.userSlug,M=!B&&Z&&null!==(t=F.findIndex((function(n){return(null===n||void 0===n?void 0:n.userStatus.userSlug)===Z})))&&void 0!==t?t:-1,U=_||!_&&-1!==M,z=(0,c.z)((function(n){g.e.contestRankingPaginationClick({contest_is_virtual:String(B),contest_is_ongoing:String(H),contest_component_location:_?"detail":"qd"}),_?b.push(m.Hb.contestRanking(v,n),void 0,{shallow:!0}):G(n)}));return x?(0,i.jsxs)("div",{className:(0,u.yI)("flex flex-col items-center",y),children:[(0,i.jsxs)("div",{className:"text-text-secondary relative flex w-full text-sm font-medium",children:[(0,i.jsx)(hn,{rankingsData:F,contestData:x,myRanking:h,isDetail:_,page:T,isContestOngoing:H,hideBody:P,rankingRegion:k,ongoingStatus:C,myRankingIndex:M}),(0,i.jsx)("div",{className:"w-full overflow-x-auto",children:(0,i.jsxs)("div",{className:"flex min-w-[fit-content] flex-col",children:[_&&(0,i.jsx)(dn,{questions:x.questions,contestSlug:x.titleSlug,className:(0,u.yI)({"opacity-0":!x.questions.length})}),_&&!!h&&(0,i.jsx)(gn,{rankingData:h,contestData:x,isSelf:!0,index:0,isDetail:_,isContestOngoing:H,rankingRegion:k,className:(0,u.yI)("transition-opacity",{"opacity-0":P})}),F.map((function(n,t){return(0,i.jsx)(gn,{rankingData:n,contestData:x,isSelf:!_&&t===M,index:t,isDetail:_,isContestOngoing:H,rankingRegion:k,className:(0,u.yI)("transition-opacity",{"opacity-0":P})},"".concat(k,"-").concat(T,"-").concat(t))}))]})}),!!h&&U&&(0,i.jsx)("div",{className:(0,u.yI)("pointer-events-none absolute h-[50px] w-full transition-opacity",{"top-[50px]":_,"opacity-0":P}),ref:I,style:_?void 0:{top:"".concat(50*M,"px")},children:(0,i.jsx)(kn,{width:null!==V&&void 0!==V?V:0,height:null!==E&&void 0!==E?E:0,animate:H})}),P&&(0,i.jsx)("div",{className:"text-sd-muted-foreground pointer-events-none absolute left-0 top-0 flex h-[600px] w-full flex-col items-center justify-center gap-4 text-base",children:p||A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-[46px] leading-[24px]",children:"\ud83e\udd1e"}),(0,i.jsx)("div",{children:L("emptyRankingPlaceholder")})]}):(0,i.jsx)(q,{className:"h-10 w-10"})})]}),(0,i.jsx)("div",{className:"flex h-[50px] w-full flex-none items-center justify-center py-1",children:!!p&&(0,i.jsx)(d.t,{currentPage:T,onChange:z,totalItems:null!==(e=!B&&H?null===p||void 0===p?void 0:p.rankings.length:null===p||void 0===p?void 0:p.userCount)&&void 0!==e?e:0,maxPageItems:6,itemsPerPage:25,className:"gap-1.5 space-x-0",arrowButtonClassName:"p-[5px]",chevronClassName:"w-3.5 h-3.5",pageItemClassName:"h-6 min-w-[24px] text-xs px-2 py-[3px] flex item-center justify-center",activePageItemClassName:"dark:!bg-ranking-primary !bg-ranking-primary dark:!text-ranking-foreground !text-ranking-foreground"})})]}):null}},90579:function(n,t,e){e.d(t,{m:function(){return f}});var i=e(85945),s=e(67294),a=e(55201),o=e(15143),r=e(29065),l=e(37605),c=e(60086),u=e(15363),d=c.BS.GLOBAL,f=function(n){var t=n.contestSlug,e=n.pageFromRouter,c=n.enabledContestInfo,f=n.enabledRankingInfo,g=n.enabledMyRankingInfo,m=(0,i.NL)(),v=(0,s.useState)(d),x=v[0],p=v[1],h=(0,s.useState)(1),C=h[0],k=h[1],_=(0,a.k)({contestSlug:t,enabled:c}),y=_.data,S=_.isInitialLoading,j=(0,l.D)(y),b=(0,s.useRef)(j),L=j===l.H.STARTED,N=j===l.H.END,w=!!(null===y||void 0===y?void 0:y.isVirtual),I=(0,u.I)((function(n){return n})),O=I.setContestSlug,V=I.setIsVirtualContest,E=I.setIsContestOngoing;(0,s.useEffect)((function(){return O(t)}),[t,O]),(0,s.useEffect)((function(){return V(w)}),[w,V]),(0,s.useEffect)((function(){return E(L)}),[L,E]);var X=w&&!L,R=(0,r.H)({contestSlug:t,region:x,enabled:g}).data,D=(0,o.l9)({contestSlug:t,region:x,enabled:f&&!w&&L}).data,T=(0,o.pB)({contestSlug:t,region:x,pagination:C,enabled:f&&(w||N),staleTime:X?0:void 0}).data,G=!w&&L?D:T;return(0,s.useEffect)((function(){L&&b.current===l.H.NOT_START&&m.invalidateQueries(["contest-info"]),N&&b.current===l.H.STARTED&&(m.invalidateQueries(["contest-ranking-page"]),m.invalidateQueries(["contest-my-ranking"])),b.current=j}),[j]),(0,s.useEffect)((function(){if(w&&L){var n=setInterval((function(){m.invalidateQueries(["contest-my-ranking"])}),6e4);return function(){return clearInterval(n)}}}),[w,L,m]),(0,s.useEffect)((function(){e&&e>0&&k(e)}),[e]),{isLoading:S,contestInfo:y,myRankingInfo:R,rankingInfo:G,ongoingStatus:j,setRankingRegion:p,rankingRegion:x,setPage:k,page:C}}},60086:function(n,t,e){var i,s,a;e.d(t,{BS:function(){return a},Fr:function(){return i},Lz:function(){return s}}),function(n){n.LEGENDARY="legendary"}(i||(i={})),function(n){n.SMALL="SMALL",n.MEDIUM="MEDIUM",n.LARGE="LARGE"}(s||(s={})),function(n){n.GLOBAL="global_v2",n.LOCAL="local_v2"}(a||(a={}))},55201:function(n,t,e){e.d(t,{k:function(){return o}});var i=e(36492),s=e(8276),a=function(n){var t,e,i,s,a,o;return{id:n.contest.id,title:n.contest.title,titleSlug:n.contest.title_slug,cardImg:null!==(i=n.contest.card_img)&&void 0!==i?i:void 0,primaryColor:n.contest.primary_color,secondaryColor:null!==(s=n.contest.secondary_color)&&void 0!==s?s:void 0,backgroundColors:[null!==(a=null===(t=n.contest.background_colors)||void 0===t?void 0:t[0])&&void 0!==a?a:"#fffc43",null!==(o=null===(e=n.contest.background_colors)||void 0===e?void 0:e[1])&&void 0!==o?o:"#ffd479"],duration:n.contest.duration,startTime:n.contest.start_time,isVirtual:n.contest.is_virtual,originStartTime:n.contest.origin_start_time,currentTime:n.current_timestamp,currentTimeDelta:n.current_timestamp-Date.now()/1e3,userCount:n.user_num,rankingUpdated:n.ranking_updated,unrated:n.unrated,questions:n.questions.map((function(n){return{id:n.id,questionId:n.question_id,credit:n.credit,title:n.title,englishTitle:n.english_title,titleSlug:n.title_slug}}))}},o=function(n){var t=n.contestSlug,e=n.enabled;return(0,i.a)(["contest-info",{contestSlug:t}],(function(){return s.x1.request(s.Hv.contestInfo(t)).then(a)}),{enabled:e})}},29065:function(n,t,e){e.d(t,{H:function(){return d},k:function(){return f}});var i=e(10253),s=e(36492),a=e(85945),o=e(67294),r=e(73534),l=e(8276),c=e(75117),u=function(n){var t,e,s,a,o;return n.my_rank&&void 0!==n.my_rank.rank?{rank:n.my_rank.rank,up:!1,userStatus:{username:n.my_rank.real_name||n.my_rank.username,userSlug:n.my_rank.user_slug,avatar:n.my_rank.avatar_url,color:null!==(s=n.my_rank.color)&&void 0!==s?s:void 0,badge:n.my_rank.medal?{name:null===(t=n.my_rank.medal)||void 0===t?void 0:t.name,icon:null===(e=n.my_rank.medal)||void 0===e?void 0:e.icon}:void 0},region:n.my_rank.data_region,countryCode:n.my_rank.country_code,countryName:null!==(a=n.my_rank.country_name)&&void 0!==a?a:"",score:n.my_rank.score,finishTime:n.my_rank.finish_time,submissions:Object.entries(null!==(o=null===n||void 0===n?void 0:n.my_submission)&&void 0!==o?o:{}).reduce((function(n,t){var e=(0,i.Z)(t,2),s=e[0],a=e[1];return n[s]={id:a.id,date:a.date,submissionId:a.submission_id,failCount:a.fail_count,lang:a.lang||""},n}),{})}:null},d=function(n){var t=n.contestSlug,e=n.region,i=n.enabled;return(0,s.a)(["contest-my-ranking",{contestSlug:t,region:e}],(function(){return l.x1.request(l.Hv.contestMyRanking(t,e)).then(u)}),{enabled:i})},f=function(n){var t=n.contestSlug,e=n.region,s=n.userSlug,l=n.enabled,u=(0,a.NL)(),d=(0,o.useState)(0),f=d[0],g=d[1];return(0,o.useEffect)((function(){if(t&&s&&l){var n=new WebSocket("wss://".concat(c.ew,"/myranking/").concat(t,"/").concat(s,"/?region=").concat(e));return n.onclose=function(n){4e3!==n.code&&f<5&&setTimeout((function(){return g((function(n){return n+1}))}),3e3)},n.onmessage=function(n){var s=(0,r.a)(n.data);void 0!==s.rank&&null!==s.rank&&u.setQueryData(["contest-my-ranking",{contestSlug:t,region:e}],(function(){return function(n){var t,e;return{rank:n.rank,up:n.up,userStatus:{username:n.username,userSlug:n.user_slug,avatar:n.avatar_url,color:null!==(t=n.color)&&void 0!==t?t:void 0,badge:n.medal?{name:n.medal.name,icon:n.medal.icon}:void 0},region:n.data_region,countryCode:n.country_code,countryName:null!==(e=n.country_name)&&void 0!==e?e:"",score:n.score,finishTime:n.finish_time,submissions:Object.entries(n.submissions).reduce((function(n,t){var e=(0,i.Z)(t,2),s=e[0],a=e[1];return n[s]={id:a.id,date:a.date,submissionId:a.submission_id,failCount:a.fail_count,lang:a.lang||""},n}),{})}}(s)}))},function(){n.close(4e3)}}}),[f,t,s,l,e,u]),(0,o.useEffect)((function(){g(0)}),[t,s,l,e]),null}},37605:function(n,t,e){e.d(t,{D:function(){return o},H:function(){return i}});var i,s=e(67294),a=e(69485);!function(n){n[n.NOT_START=0]="NOT_START",n[n.STARTED=1]="STARTED",n[n.END=2]="END"}(i||(i={}));var o=function(n){var t=null!==n&&void 0!==n?n:{},e=t.currentTimeDelta,o=t.startTime,r=t.duration,l=(0,s.useState)(void 0),c=l[0],u=l[1],d=(0,a.z)((function(){if(e&&o&&r){var n=Date.now()/1e3+e,t=Math.floor(n-o);u(t<0?i.NOT_START:t<r?i.STARTED:i.END)}}));return(0,s.useEffect)((function(){d();var n=setInterval(d,1e3);return function(){return clearInterval(n)}}),[e,o,r,d]),c}},15143:function(n,t,e){e.d(t,{Bq:function(){return v},l9:function(){return g},pB:function(){return m}});var i=e(26042),s=e(69396),a=e(10253),o=e(36492),r=e(85945),l=e(67294),c=e(8276),u=e(73534),d=e(75117),f=function(n){var t,e,i,s,o,r,l;return n.total_rank?{userCount:null!==(i=null===n||void 0===n?void 0:n.user_num)&&void 0!==i?i:0,akStatus:{akCount:null!==(s=null===n||void 0===n||null===(t=n.ak_info)||void 0===t?void 0:t.ak_num)&&void 0!==s?s:0,akAvatars:null!==(o=null===n||void 0===n||null===(e=n.ak_info)||void 0===e?void 0:e.lastest_ak_avatars)&&void 0!==o?o:[]},rankings:n.total_rank.map((function(n){return{rank:n.rank,up:n.up,userStatus:{username:n.username,userSlug:n.user_slug,avatar:n.avatar_url,color:null!==(r=n.color)&&void 0!==r?r:void 0,badge:n.medal?{name:n.medal.name,icon:n.medal.icon}:void 0},region:n.data_region,countryCode:n.country_code,countryName:null!==(l=n.country_name)&&void 0!==l?l:"",score:n.score,finishTime:n.finish_time,submissions:Object.entries(n.submissions).reduce((function(n,t){var e=(0,a.Z)(t,2),i=e[0],s=e[1];return n[i]={id:s.id,date:s.date,submissionId:s.submission_id,failCount:s.fail_count,lang:s.lang||""},n}),{})}}))}:{userCount:0,akStatus:{akCount:0,akAvatars:[]},rankings:[]}},g=function(n){var t=n.contestSlug,e=n.region,i=n.enabled;return(0,o.a)(["contest-ranking-tops",{contestSlug:t,region:e}],(function(){return c.x1.request(c.Hv.contestRankingTop({contestTitleSlug:t,region:e})).then(f)}),{enabled:i})},m=function(n){var t=n.contestSlug,e=n.region,i=n.pagination,s=void 0===i?1:i,a=n.enabled,r=n.staleTime;return(0,o.a)(["contest-ranking-page",{contestSlug:t,region:e,pagination:s}],(function(){return c.x1.request(c.Hv.contestRankingPage({contestTitleSlug:t,region:e,pagination:s})).then(f)}),{enabled:a,staleTime:r})},v=function(n){var t=n.contestSlug,e=n.region,a=n.enabled,o=(0,r.NL)(),c=(0,l.useState)(0),g=c[0],m=c[1];return(0,l.useEffect)((function(){if(t&&a){var n=new WebSocket("wss://".concat(d.ew,"/ranking/").concat(t,"/?region=").concat(e));return n.onclose=function(n){4e3!==n.code&&g<5&&setTimeout((function(){return m((function(n){return n+1}))}),3e3)},n.onmessage=function(n){var a,r=function(n){var a,r=25*(n-1);o.setQueryData(["contest-ranking-page",{contestSlug:t,region:e,pagination:n}],(function(){var n;return f((0,s.Z)((0,i.Z)({},l),{total_rank:null!==(a=null===l||void 0===l||null===(n=l.total_rank)||void 0===n?void 0:n.slice(r,r+25))&&void 0!==a?a:[]}))}))},l=(0,u.a)(n.data);if(l.total_rank){var c;o.setQueryData(["contest-ranking-tops",{contestSlug:t,region:e}],(function(){return f(l)}));for(var d=null!==(c=null===l||void 0===l||null===(a=l.total_rank)||void 0===a?void 0:a.length)&&void 0!==c?c:0,g=Math.ceil(d/25),m=1;m<g+1;m++)r(m)}},function(){n.close(4e3)}}}),[g,t,a,e,o]),(0,l.useEffect)((function(){m(0)}),[t,a,e]),null}},2013:function(n,t,e){e.d(t,{bK:function(){return a},m7:function(){return s}});var i=e(29815),s=function(n,t){return{countryName:n,countryCode:t}},a=function(n){var t,e=n.toUpperCase().split("").map((function(n){return 127397+n.charCodeAt(0)}));return(t=String).fromCodePoint.apply(t,(0,i.Z)(e))}},13540:function(n,t,e){e.d(t,{e:function(){return a}});var i=e(8183),s=e(23025),a={contestBannerClickClick:function(){var n={key:"contest_banner_click_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestEasterEggClick:function(){var n={key:"contest_easter_egg_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestMainContestsClick:function(n){var t={key:"contest_main_contests_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestFeaturedContestsClick:function(n){var t={key:"contest_featured_contests_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestSponsorLinkClick:function(){var n={key:"contest_sponsor_link_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestPastContestsTabClick:function(){var n={key:"contest_past_contests_tab_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestPastContestClick:function(n){var t={key:"contest_past_contest_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestMyContestsTabClick:function(){var n={key:"contest_my_contests_tab_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestMyContestClick:function(n){var t={key:"contest_my_contest_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestVirtualContestButtonClick:function(n){var t={key:"contest_virtual_contest_button_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestVirtualStartClick:function(n){var t={key:"contest_virtual_start_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestVirtualResumeClick:function(n){var t={key:"contest_virtual_resume_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestMyContestsFilterClick:function(n){var t={key:"contest_my_contests_filter_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestGlobalRankingUserClick:function(n){var t={key:"contest_global_ranking_user_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestGlobalRankingViewMoreClick:function(){var n={key:"contest_global_ranking_view_more_click",data:{}};i.V[s.X.GIO](n),i.V[s.X.GA4](n),i.V[s.X.CONSOLE](n),i.V[s.X.SELF_DB](n)},contestPastContestsPaginationClick:function(n){var t={key:"contest_past_contests_pagination_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestMyContestsPaginationClick:function(n){var t={key:"contest_my_contests_pagination_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestCalendarClick:function(n){var t={key:"contest_calendar_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingPageExposure:function(n){var t={key:"contest_ranking_page_exposure",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingQuestionClick:function(n){var t={key:"contest_ranking_question_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingRankInfoClick:function(n){var t={key:"contest_ranking_rank_info_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingTimeInfoClick:function(n){var t={key:"contest_ranking_time_info_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingPunishInfoClick:function(n){var t={key:"contest_ranking_punish_info_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingCodeClick:function(n){var t={key:"contest_ranking_code_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingReportClick:function(n){var t={key:"contest_ranking_report_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingPaginationClick:function(n){var t={key:"contest_ranking_pagination_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestRankingUserClick:function(n){var t={key:"contest_ranking_user_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestQdPanelExposure:function(n){var t={key:"contest_qd_panel_exposure",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)},contestQdPanelRankingDetailClick:function(n){var t={key:"contest_qd_panel_ranking_detail_click",data:n};i.V[s.X.GIO](t),i.V[s.X.GA4](t),i.V[s.X.CONSOLE](t),i.V[s.X.SELF_DB](t)}}}}]);